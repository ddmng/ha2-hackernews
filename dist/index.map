{"version":3,"sources":["local_modules/hyperapp/src/index.js","utils/utils.js","hyperapp/hav2.js","hyperapp/utils.js","hyperapp/Http.js","utils/squirrel.js","bookmark.js","article.js","navbuttons.js","index.js","../../../.nvm/versions/node/v8.11.3/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../.nvm/versions/node/v8.11.3/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["app","DEFAULT","RECYCLED_NODE","TEXT_NODE","XLINK_NS","SVG_NS","EMPTY_OBJECT","EMPTY_ARRAY","map","isArray","Array","merge","a","b","target","i","resolved","Promise","resolve","defer","setTimeout","cb","then","updateProperty","element","name","lastValue","nextValue","eventProxy","isSvg","style","setProperty","slice","toLowerCase","events","removeEventListener","addEventListener","nullOrFalse","removeAttribute","ns","replace","removeAttributeNS","setAttributeNS","setAttribute","createElement","node","lifecycle","type","document","createTextNode","createElementNS","props","onCreate","push","length","children","appendChild","updateElement","lastProps","nextProps","isRecycled","onUpdate","removeChildren","onDestroy","removeElement","parent","remove","removeChild","onRemove","getKey","key","createKeyMap","start","end","out","patchElement","lastNode","nextNode","nodeValue","newElement","insertBefore","savedNode","childNode","lastKey","lastChildren","lastChStart","lastChEnd","nextKey","nextChildren","nextChStart","nextChEnd","lastKeyed","nextKeyed","createVNode","createTextVNode","text","recycleChild","nodeType","recycleElement","nodeName","call","childNodes","patch","container","pop","h","rest","arguments","cancel","sub","isSameValue","k","isSameAction","restart","oldSub","dispatch","effect","refresh","subs","oldSubs","state","view","subscriptions","lastSub","updateInProgress","setState","newState","render","obj","data","event","currentTarget","init","toObject","sliced","remapped","reduce","e","Object","keys","loaded","size","assign","makeRemoveListener","source","assignments","result","attachTo","action","eventName","handler","bind","Http","httpEffect","fetch","url","options","response","ok","catch","error","squirrel","path","split","reverse","F","x","f","callbacks","initial","__bookmark","id","s","undefined","Date","Bookmark","onBookmark","icon","http","itemType","bookmark","Bookmarked","item","fetched","title","by","score","bookmarks","list","tag","onSelect","fetching","onRefresh","utils","article","navbutton","FetchedStories","FetchArticles","articles","maxNumArticles","FetchStories","status","FetchedArticles","BatchFx","SetList","console","log","initialState","autoreload","querySelector","entries","JSON","stringify","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","now","parentNode","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","module"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QA+hBgBA,MAAAA;AA/hBhB,IAAIC,UAAU,CAAd;AACA,IAAIC,gBAAgB,CAApB;AACA,IAAIC,YAAY,CAAhB;;AAEA,IAAIC,WAAW,8BAAf;AACA,IAAIC,SAAS,4BAAb;;AAEA,IAAIC,eAAe,EAAnB;AACA,IAAIC,cAAc,EAAlB;;AAEA,IAAIC,MAAMD,YAAYC,GAAtB;AACA,IAAIC,UAAUC,MAAMD,OAApB;;AAEA,IAAIE,QAAQ,SAARA,KAAQ,CAASC,CAAT,EAAYC,CAAZ,EAAe;AACzB,MAAIC,SAAS,EAAb;;AAEA,OAAK,IAAIC,CAAT,IAAcH,CAAd;AAAiBE,WAAOC,CAAP,IAAYH,EAAEG,CAAF,CAAZ;AAAjB,GACA,KAAK,IAAIA,CAAT,IAAcF,CAAd;AAAiBC,WAAOC,CAAP,IAAYF,EAAEE,CAAF,CAAZ;AAAjB,GAEA,OAAOD,MAAP;AACD,CAPD;;AASA,IAAIE,WAAW,OAAOC,OAAP,KAAmB,UAAnB,IAAiCA,QAAQC,OAAR,EAAhD;;AAEA,IAAIC,QAAQ,CAACH,QAAD,GACRI,UADQ,GAER,UAASC,EAAT,EAAa;AACX,SAAOL,SAASM,IAAT,CAAcD,EAAd,CAAP;AACD,CAJL;;AAMA,IAAIE,iBAAiB,SAAjBA,cAAiB,CACnBC,OADmB,EAEnBC,IAFmB,EAGnBC,SAHmB,EAInBC,SAJmB,EAKnBC,UALmB,EAMnBC,KANmB,EAOnB;AACA,MAAIJ,SAAS,KAAb,EAAoB,CACnB,CADD,MACO,IAAIA,SAAS,OAAb,EAAsB;AAC3B,SAAK,IAAIV,CAAT,IAAcJ,MAAMe,SAAN,EAAiBC,SAAjB,CAAd,EAA2C;AACzC,UAAIG,QAAQH,aAAa,IAAb,IAAqBA,UAAUZ,CAAV,KAAgB,IAArC,GAA4C,EAA5C,GAAiDY,UAAUZ,CAAV,CAA7D;AACA,UAAIA,EAAE,CAAF,MAAS,GAAb,EAAkB;AAChBS,gBAAQC,IAAR,EAAcM,WAAd,CAA0BhB,CAA1B,EAA6Be,KAA7B;AACD,OAFD,MAEO;AACLN,gBAAQC,IAAR,EAAcV,CAAd,IAAmBe,KAAnB;AACD;AACF;AACF,GATM,MASA;AACL,QAAIL,KAAK,CAAL,MAAY,GAAZ,IAAmBA,KAAK,CAAL,MAAY,GAAnC,EAAwC;AACtCA,aAAOA,KAAKO,KAAL,CAAW,CAAX,EAAcC,WAAd,EAAP;;AAEA,UAAI,CAACT,QAAQU,MAAb,EAAqBV,QAAQU,MAAR,GAAiB,EAAjB;;AAErBV,cAAQU,MAAR,CAAeT,IAAf,IAAuBE,SAAvB;;AAEA,UAAIA,aAAa,IAAjB,EAAuB;AACrBH,gBAAQW,mBAAR,CAA4BV,IAA5B,EAAkCG,UAAlC;AACD,OAFD,MAEO,IAAIF,aAAa,IAAjB,EAAuB;AAC5BF,gBAAQY,gBAAR,CAAyBX,IAAzB,EAA+BG,UAA/B;AACD;AACF,KAZD,MAYO;AACL,UAAIS,cAAcV,aAAa,IAAb,IAAqBA,cAAc,KAArD;;AAEA,UACEF,QAAQD,OAAR,IACAC,SAAS,MADT,IAEAA,SAAS,WAFT,IAGAA,SAAS,YAHT,IAIAA,SAAS,WAJT,IAKA,CAACI,KANH,EAOE;AACAL,gBAAQC,IAAR,IAAgBE,aAAa,IAAb,GAAoB,EAApB,GAAyBA,SAAzC;AACA,YAAIU,WAAJ,EAAiB;AACfb,kBAAQc,eAAR,CAAwBb,IAAxB;AACD;AACF,OAZD,MAYO;AACL,YAAIc,KAAKV,SAASJ,UAAUA,OAAOA,KAAKe,OAAL,CAAa,UAAb,EAAyB,EAAzB,CAAjB,CAAlB;AACA,YAAID,EAAJ,EAAQ;AACN,cAAIF,WAAJ,EAAiB;AACfb,oBAAQiB,iBAAR,CAA0BrC,QAA1B,EAAoCqB,IAApC;AACD,WAFD,MAEO;AACLD,oBAAQkB,cAAR,CAAuBtC,QAAvB,EAAiCqB,IAAjC,EAAuCE,SAAvC;AACD;AACF,SAND,MAMO;AACL,cAAIU,WAAJ,EAAiB;AACfb,oBAAQc,eAAR,CAAwBb,IAAxB;AACD,WAFD,MAEO;AACLD,oBAAQmB,YAAR,CAAqBlB,IAArB,EAA2BE,SAA3B;AACD;AACF;AACF;AACF;AACF;AACF,CAhED;;AAkEA,IAAIiB,gBAAgB,SAAhBA,aAAgB,CAASC,IAAT,EAAeC,SAAf,EAA0BlB,UAA1B,EAAsCC,KAAtC,EAA6C;AAC/D,MAAIL,UACFqB,KAAKE,IAAL,KAAc5C,SAAd,GACI6C,SAASC,cAAT,CAAwBJ,KAAKpB,IAA7B,CADJ,GAEI,CAACI,QAAQA,SAASgB,KAAKpB,IAAL,KAAc,KAAhC,IACEuB,SAASE,eAAT,CAAyB7C,MAAzB,EAAiCwC,KAAKpB,IAAtC,CADF,GAEEuB,SAASJ,aAAT,CAAuBC,KAAKpB,IAA5B,CALR;;AAOA,MAAI0B,QAAQN,KAAKM,KAAjB;AACA,MAAIA,MAAMC,QAAV,EAAoB;AAClBN,cAAUO,IAAV,CAAe,YAAW;AACxBF,YAAMC,QAAN,CAAe5B,OAAf;AACD,KAFD;AAGD;;AAED,OAAK,IAAIT,IAAI,CAAR,EAAWuC,SAAST,KAAKU,QAAL,CAAcD,MAAvC,EAA+CvC,IAAIuC,MAAnD,EAA2DvC,GAA3D,EAAgE;AAC9DS,YAAQgC,WAAR,CACEZ,cAAcC,KAAKU,QAAL,CAAcxC,CAAd,CAAd,EAAgC+B,SAAhC,EAA2ClB,UAA3C,EAAuDC,KAAvD,CADF;AAGD;;AAED,OAAK,IAAIJ,IAAT,IAAiB0B,KAAjB,EAAwB;AACtB5B,mBAAeC,OAAf,EAAwBC,IAAxB,EAA8B,IAA9B,EAAoC0B,MAAM1B,IAAN,CAApC,EAAiDG,UAAjD,EAA6DC,KAA7D;AACD;;AAED,SAAQgB,KAAKrB,OAAL,GAAeA,OAAvB;AACD,CA1BD;;AA4BA,IAAIiC,gBAAgB,SAAhBA,aAAgB,CAClBjC,OADkB,EAElBkC,SAFkB,EAGlBC,SAHkB,EAIlBb,SAJkB,EAKlBlB,UALkB,EAMlBC,KANkB,EAOlB+B,UAPkB,EAQlB;AACA,OAAK,IAAInC,IAAT,IAAiBd,MAAM+C,SAAN,EAAiBC,SAAjB,CAAjB,EAA8C;AAC5C,QACE,CAAClC,SAAS,OAAT,IAAoBA,SAAS,SAA7B,GACGD,QAAQC,IAAR,CADH,GAEGiC,UAAUjC,IAAV,CAFJ,MAEyBkC,UAAUlC,IAAV,CAH3B,EAIE;AACAF,qBACEC,OADF,EAEEC,IAFF,EAGEiC,UAAUjC,IAAV,CAHF,EAIEkC,UAAUlC,IAAV,CAJF,EAKEG,UALF,EAMEC,KANF;AAQD;AACF;;AAED,MAAIR,KAAKuC,aAAaD,UAAUP,QAAvB,GAAkCO,UAAUE,QAArD;AACA,MAAIxC,MAAM,IAAV,EAAgB;AACdyB,cAAUO,IAAV,CAAe,YAAW;AACxBhC,SAAGG,OAAH,EAAYkC,SAAZ;AACD,KAFD;AAGD;AACF,CAhCD;;AAkCA,IAAII,iBAAiB,SAAjBA,cAAiB,CAASjB,IAAT,EAAe;AAClC,OAAK,IAAI9B,IAAI,CAAR,EAAWuC,SAAST,KAAKU,QAAL,CAAcD,MAAvC,EAA+CvC,IAAIuC,MAAnD,EAA2DvC,GAA3D,EAAgE;AAC9D+C,mBAAejB,KAAKU,QAAL,CAAcxC,CAAd,CAAf;AACD;;AAED,MAAIM,KAAKwB,KAAKM,KAAL,CAAWY,SAApB;AACA,MAAI1C,MAAM,IAAV,EAAgB;AACdA,OAAGwB,KAAKrB,OAAR;AACD;;AAED,SAAOqB,KAAKrB,OAAZ;AACD,CAXD;;AAaA,IAAIwC,gBAAgB,SAAhBA,aAAgB,CAASC,MAAT,EAAiBpB,IAAjB,EAAuB;AACzC,MAAIqB,SAAS,SAATA,MAAS,GAAW;AACtBD,WAAOE,WAAP,CAAmBL,eAAejB,IAAf,CAAnB;AACD,GAFD;;AAIA,MAAIxB,KAAKwB,KAAKM,KAAL,IAAcN,KAAKM,KAAL,CAAWiB,QAAlC;AACA,MAAI/C,MAAM,IAAV,EAAgB;AACdA,OAAGwB,KAAKrB,OAAR,EAAiB0C,MAAjB;AACD,GAFD,MAEO;AACLA;AACD;AACF,CAXD;;AAaA,IAAIG,SAAS,SAATA,MAAS,CAASxB,IAAT,EAAe;AAC1B,SAAOA,QAAQ,IAAR,GAAe,IAAf,GAAsBA,KAAKyB,GAAlC;AACD,CAFD;;AAIA,IAAIC,eAAe,SAAfA,YAAe,CAAShB,QAAT,EAAmBiB,KAAnB,EAA0BC,GAA1B,EAA+B;AAChD,MAAIC,MAAM,EAAV;AACA,MAAIJ,GAAJ;AACA,MAAIzB,IAAJ;;AAEA,SAAO2B,SAASC,GAAhB,EAAqBD,OAArB,EAA8B;AAC5B,QAAI,CAACF,MAAM,CAACzB,OAAOU,SAASiB,KAAT,CAAR,EAAyBF,GAAhC,KAAwC,IAA5C,EAAkD;AAChDI,UAAIJ,GAAJ,IAAWzB,IAAX;AACD;AACF;;AAED,SAAO6B,GAAP;AACD,CAZD;;AAcA,IAAIC,eAAe,SAAfA,YAAe,CACjBV,MADiB,EAEjBzC,OAFiB,EAGjBoD,QAHiB,EAIjBC,QAJiB,EAKjB/B,SALiB,EAMjBlB,UANiB,EAOjBC,KAPiB,EAQjB;AACA,MAAIgD,aAAaD,QAAjB,EAA2B,CAC1B,CADD,MACO,IACLA,YAAY,IAAZ,IACAA,SAAS7B,IAAT,KAAkB5C,SADlB,IAEA0E,SAAS9B,IAAT,KAAkB5C,SAHb,EAIL;AACA,QAAIyE,SAASnD,IAAT,KAAkBoD,SAASpD,IAA/B,EAAqC;AACnCD,cAAQsD,SAAR,GAAoBD,SAASpD,IAA7B;AACD;AACF,GARM,MAQA,IAAImD,YAAY,IAAZ,IAAoBA,SAASnD,IAAT,KAAkBoD,SAASpD,IAAnD,EAAyD;AAC9D,QAAIsD,aAAad,OAAOe,YAAP,CACfpC,cAAciC,QAAd,EAAwB/B,SAAxB,EAAmClB,UAAnC,EAA+CC,KAA/C,CADe,EAEfL,OAFe,CAAjB;;AAKA,QAAIoD,YAAY,IAAhB,EAAsBZ,cAAcC,MAAd,EAAsBW,QAAtB;;AAEtBpD,cAAUuD,UAAV;AACD,GATM,MASA;AACLtB,kBACEjC,OADF,EAEEoD,SAASzB,KAFX,EAGE0B,SAAS1B,KAHX,EAIEL,SAJF,EAKElB,UALF,EAMGC,QAAQA,SAASgD,SAASpD,IAAT,KAAkB,KANtC,EAOEmD,SAAS7B,IAAT,KAAkB7C,aAPpB;;AAUA,QAAI+E,SAAJ;AACA,QAAIC,SAAJ;;AAEA,QAAIC,OAAJ;AACA,QAAIC,eAAeR,SAASrB,QAA5B;AACA,QAAI8B,cAAc,CAAlB;AACA,QAAIC,YAAYF,aAAa9B,MAAb,GAAsB,CAAtC;;AAEA,QAAIiC,OAAJ;AACA,QAAIC,eAAeX,SAAStB,QAA5B;AACA,QAAIkC,cAAc,CAAlB;AACA,QAAIC,YAAYF,aAAalC,MAAb,GAAsB,CAAtC;;AAEA,WAAOmC,eAAeC,SAAf,IAA4BL,eAAeC,SAAlD,EAA6D;AAC3DH,gBAAUd,OAAOe,aAAaC,WAAb,CAAP,CAAV;AACAE,gBAAUlB,OAAOmB,aAAaC,WAAb,CAAP,CAAV;;AAEA,UAAIN,WAAW,IAAX,IAAmBA,YAAYI,OAAnC,EAA4C;;AAE5CZ,mBACEnD,OADF,EAEE4D,aAAaC,WAAb,EAA0B7D,OAF5B,EAGE4D,aAAaC,WAAb,CAHF,EAIEG,aAAaC,WAAb,CAJF,EAKE3C,SALF,EAMElB,UANF,EAOEC,KAPF;;AAUAwD;AACAI;AACD;;AAED,WAAOA,eAAeC,SAAf,IAA4BL,eAAeC,SAAlD,EAA6D;AAC3DH,gBAAUd,OAAOe,aAAaE,SAAb,CAAP,CAAV;AACAC,gBAAUlB,OAAOmB,aAAaE,SAAb,CAAP,CAAV;;AAEA,UAAIP,WAAW,IAAX,IAAmBA,YAAYI,OAAnC,EAA4C;;AAE5CZ,mBACEnD,OADF,EAEE4D,aAAaE,SAAb,EAAwB9D,OAF1B,EAGE4D,aAAaE,SAAb,CAHF,EAIEE,aAAaE,SAAb,CAJF,EAKE5C,SALF,EAMElB,UANF,EAOEC,KAPF;;AAUAyD;AACAI;AACD;;AAED,QAAIL,cAAcC,SAAlB,EAA6B;AAC3B,aAAOG,eAAeC,SAAtB,EAAiC;AAC/BlE,gBAAQwD,YAAR,CACEpC,cACE4C,aAAaC,aAAb,CADF,EAEE3C,SAFF,EAGElB,UAHF,EAIEC,KAJF,CADF,EAOE,CAACqD,YAAYE,aAAaC,WAAb,CAAb,KAA2CH,UAAU1D,OAPvD;AASD;AACF,KAZD,MAYO,IAAIiE,cAAcC,SAAlB,EAA6B;AAClC,aAAOL,eAAeC,SAAtB,EAAiC;AAC/BtB,sBAAcxC,OAAd,EAAuB4D,aAAaC,aAAb,CAAvB;AACD;AACF,KAJM,MAIA;AACL,UAAIM,YAAYpB,aAAaa,YAAb,EAA2BC,WAA3B,EAAwCC,SAAxC,CAAhB;AACA,UAAIM,YAAY,EAAhB;;AAEA,aAAOH,eAAeC,SAAtB,EAAiC;AAC/BP,kBAAUd,OAAQa,YAAYE,aAAaC,WAAb,CAApB,CAAV;AACAE,kBAAUlB,OAAOmB,aAAaC,WAAb,CAAP,CAAV;;AAEA,YACEG,UAAUT,OAAV,KACCI,WAAW,IAAX,IAAmBA,YAAYlB,OAAOe,aAAaC,cAAc,CAA3B,CAAP,CAFlC,EAGE;AACA,cAAIF,WAAW,IAAf,EAAqB;AACnBnB,0BAAcxC,OAAd,EAAuB0D,SAAvB;AACD;AACDG;AACA;AACD;;AAED,YAAIE,WAAW,IAAX,IAAmBX,SAAS7B,IAAT,KAAkB7C,aAAzC,EAAwD;AACtD,cAAIiF,WAAW,IAAf,EAAqB;AACnBR,yBACEnD,OADF,EAEE0D,aAAaA,UAAU1D,OAFzB,EAGE0D,SAHF,EAIEM,aAAaC,WAAb,CAJF,EAKE3C,SALF,EAMElB,UANF,EAOEC,KAPF;AASA4D;AACD;AACDJ;AACD,SAdD,MAcO;AACL,cAAIF,YAAYI,OAAhB,EAAyB;AACvBZ,yBACEnD,OADF,EAEE0D,UAAU1D,OAFZ,EAGE0D,SAHF,EAIEM,aAAaC,WAAb,CAJF,EAKE3C,SALF,EAMElB,UANF,EAOEC,KAPF;AASA+D,sBAAUL,OAAV,IAAqB,IAArB;AACAF;AACD,WAZD,MAYO;AACL,gBAAI,CAACJ,YAAYU,UAAUJ,OAAV,CAAb,KAAoC,IAAxC,EAA8C;AAC5CZ,2BACEnD,OADF,EAEEA,QAAQwD,YAAR,CACEC,UAAUzD,OADZ,EAEE0D,aAAaA,UAAU1D,OAFzB,CAFF,EAMEyD,SANF,EAOEO,aAAaC,WAAb,CAPF,EAQE3C,SARF,EASElB,UATF,EAUEC,KAVF;AAYA+D,wBAAUL,OAAV,IAAqB,IAArB;AACD,aAdD,MAcO;AACLZ,2BACEnD,OADF,EAEE0D,aAAaA,UAAU1D,OAFzB,EAGE,IAHF,EAIEgE,aAAaC,WAAb,CAJF,EAKE3C,SALF,EAMElB,UANF,EAOEC,KAPF;AASD;AACF;AACD4D;AACD;AACF;;AAED,aAAOJ,eAAeC,SAAtB,EAAiC;AAC/B,YAAIjB,OAAQa,YAAYE,aAAaC,aAAb,CAApB,KAAqD,IAAzD,EAA+D;AAC7DrB,wBAAcxC,OAAd,EAAuB0D,SAAvB;AACD;AACF;;AAED,WAAK,IAAIZ,GAAT,IAAgBqB,SAAhB,EAA2B;AACzB,YAAIC,UAAUtB,GAAV,KAAkB,IAAtB,EAA4B;AAC1BN,wBAAcxC,OAAd,EAAuBmE,UAAUrB,GAAV,CAAvB;AACD;AACF;AACF;AACF;;AAED,SAAQO,SAASrD,OAAT,GAAmBA,OAA3B;AACD,CAvMD;;AAyMA,IAAIqE,cAAc,SAAdA,WAAc,CAASpE,IAAT,EAAe0B,KAAf,EAAsBI,QAAtB,EAAgC/B,OAAhC,EAAyC8C,GAAzC,EAA8CvB,IAA9C,EAAoD;AACpE,SAAO;AACLtB,UAAMA,IADD;AAEL0B,WAAOA,KAFF;AAGLI,cAAUA,QAHL;AAIL/B,aAASA,OAJJ;AAKL8C,SAAKA,GALA;AAMLvB,UAAMA;AAND,GAAP;AAQD,CATD;;AAWA,IAAI+C,kBAAkB,SAAlBA,eAAkB,CAASC,IAAT,EAAevE,OAAf,EAAwB;AAC5C,SAAOqE,YAAYE,IAAZ,EAAkBzF,YAAlB,EAAgCC,WAAhC,EAA6CiB,OAA7C,EAAsD,IAAtD,EAA4DrB,SAA5D,CAAP;AACD,CAFD;;AAIA,IAAI6F,eAAe,SAAfA,YAAe,CAASxE,OAAT,EAAkB;AACnC,SAAOA,QAAQyE,QAAR,KAAqB,CAArB,CAAuB;AAAvB,IACHH,gBAAgBtE,QAAQsD,SAAxB,EAAmCtD,OAAnC,CADG,GAEH0E,eAAe1E,OAAf,CAFJ;AAGD,CAJD;;AAMA,IAAI0E,iBAAiB,SAAjBA,cAAiB,CAAS1E,OAAT,EAAkB;AACrC,SAAOqE,YACLrE,QAAQ2E,QAAR,CAAiBlE,WAAjB,EADK,EAEL3B,YAFK,EAGLE,IAAI4F,IAAJ,CAAS5E,QAAQ6E,UAAjB,EAA6BL,YAA7B,CAHK,EAILxE,OAJK,EAKL,IALK,EAMLtB,aANK,CAAP;AAQD,CATD;;AAWA,IAAIoG,QAAQ,SAARA,KAAQ,CAASC,SAAT,EAAoB/E,OAApB,EAA6BoD,QAA7B,EAAuCC,QAAvC,EAAiDjD,UAAjD,EAA6D;AACvE,MAAIkB,YAAY,EAAhB;;AAEAtB,YAAUmD,aACR4B,SADQ,EAER/E,OAFQ,EAGRoD,QAHQ,EAIRC,QAJQ,EAKR/B,SALQ,EAMRlB,UANQ,CAAV;;AASA,SAAOkB,UAAUQ,MAAV,GAAmB,CAA1B;AAA6BR,cAAU0D,GAAV;AAA7B,GAEA,OAAOhF,OAAP;AACD,CAfD;;AAiBO,IAAIiF,gBAAI,SAAJA,CAAI,CAAShF,IAAT,EAAe0B,KAAf,EAAsB;AACnC,MAAIN,IAAJ;AACA,MAAI6D,OAAO,EAAX;AACA,MAAInD,WAAW,EAAf;AACA,MAAID,SAASqD,UAAUrD,MAAvB;;AAEA,SAAOA,WAAW,CAAlB;AAAqBoD,SAAKrD,IAAL,CAAUsD,UAAUrD,MAAV,CAAV;AAArB,GAEA,IAAI,CAACH,QAAQA,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,KAA9B,EAAqCI,QAArC,IAAiD,IAArD,EAA2D;AACzD,QAAImD,KAAKpD,MAAL,IAAe,CAAnB,EAAsB;AACpBoD,WAAKrD,IAAL,CAAUF,MAAMI,QAAhB;AACD;AACD,WAAOJ,MAAMI,QAAb;AACD;;AAED,SAAOmD,KAAKpD,MAAL,GAAc,CAArB,EAAwB;AACtB,QAAI7C,QAASoC,OAAO6D,KAAKF,GAAL,EAAhB,CAAJ,EAAkC;AAChC,WAAKlD,SAAST,KAAKS,MAAnB,EAA2BA,WAAW,CAAtC,GAA2C;AACzCoD,aAAKrD,IAAL,CAAUR,KAAKS,MAAL,CAAV;AACD;AACF,KAJD,MAIO,IAAIT,SAAS,KAAT,IAAkBA,SAAS,IAA3B,IAAmCA,QAAQ,IAA/C,EAAqD,CAC3D,CADM,MACA;AACLU,eAASF,IAAT,CAAc,QAAOR,IAAP,yCAAOA,IAAP,OAAgB,QAAhB,GAA2BA,IAA3B,GAAkCiD,gBAAgBjD,IAAhB,CAAhD;AACD;AACF;;AAED,SAAO,OAAOpB,IAAP,KAAgB,UAAhB,GACHA,KAAK0B,KAAL,EAAaA,MAAMI,QAAN,GAAiBA,QAA9B,CADG,GAEHsC,YAAYpE,IAAZ,EAAkB0B,KAAlB,EAAyBI,QAAzB,EAAmC,IAAnC,EAAyCJ,MAAMmB,GAA/C,EAAoDrE,OAApD,CAFJ;AAGD,CA7BM;;AA+BP,IAAI2G,SAAS,SAATA,MAAS,CAASC,GAAT,EAAc;AACzBA,MAAID,MAAJ;AACD,CAFD;;AAIA,IAAIE,cAAc,SAAdA,WAAc,CAASlG,CAAT,EAAYC,CAAZ,EAAe;AAC/B,MAAID,MAAMC,CAAV,EAAa;AACX,SAAK,IAAIkG,CAAT,IAAcpG,MAAMC,CAAN,EAASC,CAAT,CAAd,EAA2B;AACzB,UAAID,EAAEmG,CAAF,MAASlG,EAAEkG,CAAF,CAAb,EAAmB,OAAO,KAAP;AACpB;AACF;AACD,SAAO,IAAP;AACD,CAPD;;AASA,IAAIC,eAAe,SAAfA,YAAe,CAASpG,CAAT,EAAYC,CAAZ,EAAe;AAChC,SACE,QAAOD,CAAP,yCAAOA,CAAP,eAAoBC,CAApB,yCAAoBA,CAApB,MACCJ,QAAQG,CAAR,KAAcA,EAAE,CAAF,MAASC,EAAE,CAAF,CAAvB,IAA+BiG,YAAYlG,EAAE,CAAF,CAAZ,EAAkBC,EAAE,CAAF,CAAlB,CAFlC;AAID,CALD;;AAOA,IAAIoG,UAAU,SAAVA,OAAU,CAASJ,GAAT,EAAcK,MAAd,EAAsBC,QAAtB,EAAgC;AAC5C,OAAK,IAAIJ,CAAT,IAAcpG,MAAMkG,GAAN,EAAWK,MAAX,CAAd,EAAkC;AAChC,QAAIH,MAAM,QAAV,EAAoB,CACnB,CADD,MACO,IAAIF,IAAIE,CAAJ,MAAWG,OAAOH,CAAP,CAAX,IAAwBC,aAAaH,IAAIE,CAAJ,CAAb,EAAqBG,OAAOH,CAAP,CAArB,CAA5B,EAA6D,CACnE,CADM,MACA;AACLH,aAAOM,MAAP;AACA,aAAO1C,MAAMqC,GAAN,EAAWM,QAAX,CAAP;AACD;AACF;AACD,SAAOD,MAAP;AACD,CAVD;;AAYA,IAAI1C,QAAQ,SAARA,KAAQ,CAASqC,GAAT,EAAcM,QAAd,EAAwB;AAClC,SAAOxG,MAAMkG,GAAN,EAAW;AAChBD,YAAQC,IAAIO,MAAJ,CAAWP,GAAX,EAAgBM,QAAhB;AADQ,GAAX,CAAP;AAGD,CAJD;;AAMA,IAAIE,UAAU,SAAVA,OAAU,CAASR,GAAT,EAAcK,MAAd,EAAsBC,QAAtB,EAAgC;AAC5C,MAAI1G,QAAQoG,GAAR,KAAgBpG,QAAQyG,MAAR,CAApB,EAAqC;AACnC,QAAIxC,MAAM,EAAV;AACA,QAAI4C,OAAO7G,QAAQoG,GAAR,IAAeA,GAAf,GAAqB,CAACA,GAAD,CAAhC;AACA,QAAIU,UAAU9G,QAAQyG,MAAR,IAAkBA,MAAlB,GAA2B,CAACA,MAAD,CAAzC;;AAEA,SAAK,IAAInG,IAAI,CAAb,EAAgBA,IAAIuG,KAAKhE,MAAT,IAAmBvC,IAAIwG,QAAQjE,MAA/C,EAAuDvC,GAAvD,EAA4D;AAC1D2D,UAAIrB,IAAJ,CAASgE,QAAQC,KAAKvG,CAAL,CAAR,EAAiBwG,QAAQxG,CAAR,CAAjB,EAA6BoG,QAA7B,CAAT;AACD;;AAED,WAAOzC,GAAP;AACD;;AAED,SAAOmC,MACHK,SACED,QAAQJ,GAAR,EAAaK,MAAb,EAAqBC,QAArB,CADF,GAEE3C,MAAMqC,GAAN,EAAWM,QAAX,CAHC,GAIHD,SACEN,OAAOM,MAAP,CADF,GAEEA,MANN;AAOD,CApBD;;AAsBO,SAASlH,GAAT,CAAamD,KAAb,EAAoB;AACzB,MAAIqE,KAAJ;AACA,MAAIC,OAAOtE,MAAMsE,IAAjB;AACA,MAAIH,OAAOnE,MAAMuE,aAAjB;AACA,MAAInB,YAAYpD,MAAMoD,SAAtB;AACA,MAAI/E,UAAU+E,UAAUhD,QAAV,CAAmB,CAAnB,CAAd;AACA,MAAIqB,WAAWpD,WAAW0E,eAAe1E,OAAf,CAA1B;AACA,MAAImG,UAAU,EAAd;AACA,MAAIC,mBAAmB,KAAvB;;AAEA,MAAIC,WAAW,SAAXA,QAAW,CAASC,QAAT,EAAmB;AAChC,QAAIN,UAAUM,QAAd,EAAwB;AACtBN,cAAQM,QAAR;;AAEA,UAAI,CAACF,gBAAL,EAAuB;AACrBA,2BAAmB,IAAnB;AACAzG,cAAM4G,MAAN;AACD;AACF;AACF,GATD;;AAWA,MAAIZ,WAAW,SAAXA,QAAW,CAASa,GAAT,EAAcC,IAAd,EAAoB;AACjC,QAAID,OAAO,IAAX,EAAiB,CAChB,CADD,MACO,IAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AACpCb,eAASa,IAAIR,KAAJ,EAAWS,IAAX,CAAT;AACD,KAFM,MAEA,IAAIxH,QAAQuH,GAAR,CAAJ,EAAkB;AACvB,UAAI,OAAOA,IAAI,CAAJ,CAAP,KAAkB,UAAtB,EAAkC;AAChCb,iBAASa,IAAI,CAAJ,EAAOR,KAAP,EAAcQ,IAAI,CAAJ,CAAd,EAAsBC,IAAtB,CAAT;AACD,OAFD,MAEO;AACLD,YAAI,CAAJ,EAAOZ,MAAP,CAAcY,IAAI,CAAJ,CAAd,EAAsBb,QAAtB,EAAgCU,SAASG,IAAI,CAAJ,CAAT,CAAhC;AACD;AACF,KANM,MAMA;AACLH,eAASG,GAAT;AACD;AACF,GAbD;;AAeA,MAAIpG,aAAa,SAAbA,UAAa,CAASsG,KAAT,EAAgB;AAC/Bf,aAASe,MAAMC,aAAN,CAAoBjG,MAApB,CAA2BgG,MAAMnF,IAAjC,CAAT,EAAiDmF,KAAjD;AACD,GAFD;;AAIA,MAAIH,SAAS,SAATA,MAAS,GAAW;AACtBH,uBAAmB,KAAnB;;AAEA,QAAIN,IAAJ,EAAU;AACRK,gBAAUN,QAAQC,KAAKE,KAAL,CAAR,EAAqBG,OAArB,EAA8BR,QAA9B,CAAV;AACD;;AAED,QAAIM,IAAJ,EAAU;AACRjG,gBAAU8E,MACRC,SADQ,EAER/E,OAFQ,EAGRoD,QAHQ,EAIPA,WAAW6C,KAAKD,KAAL,CAJJ,EAKR5F,UALQ,CAAV;AAOD;AACF,GAhBD;;AAkBAuF,WAAShE,MAAMiF,IAAf;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ASxlBD;;AAGA;;IAAY6D;;AACZ;;IAAYC;;AACZ;;IAAYC;;AAEZ;;;;;;kNATA;;AAYA,IAAMC,iBAAiB,SAAjBA,cAAiB,CAAC5E,KAAD,EAAQS,IAAR;AAAA,SAAiBoE,2BACnC7E,KADmC;AAEtC8E,cAAUL,MAAM5D,QAAN,CAAe4D,MAAMjK,KAAN,CAAYiG,IAAZ,EAAkBT,MAAM+E,cAAxB,CAAf;AACV;AAHsC,KAAjB;AAAA,CAAvB;;AAMA,IAAMC,eAAe,SAAfA,YAAe,CAAChF,KAAD;AAAA,SAAW,cACzBA,KADyB;AAE5B8E,cAAU,EAFkB;AAG5BG,YAAQ,kBAHoB;AAI5BV,cAAU;AAJkB,MAM9B,iBAAK;AACHpC,oDAA8CnC,MAAMoE,IAApD,iBADG;AAEHxC,YAAQgD;AAFL,GAAL,CAN8B,CAAX;AAAA,CAArB;;AAYA,IAAMM,kBAAkB,SAAlBA,eAAkB,CAAClF,KAAD,EAAQS,IAAR;AAAA,sBACnBT,KADmB;AAEtBiF,YAAQ,aAFc;AAGtBV,cAAU,KAHY;AAItBO,2BACK9E,MAAM8E,QADX,sBAEGrE,KAAK0C,EAFR,EAEa;AACTY,eAAS,IADA;AAETE,UAAIxD,KAAKwD,EAFA;AAGTC,aAAOzD,KAAKyD,KAHH;AAITF,aACAvD,KAAKuD,KALI;AAMTzI,YAAMkF,KAAKlF,IANF;AAOT4G,WAAK1B,KAAK0B;AAPD,KAFb;AAJsB;AAAA,CAAxB;;AAkBA,IAAM0C,gBAAgB,SAAhBA,aAAgB,CAAC7E,KAAD;AAAA,SAAW,cAC1BA,KAD0B;AAE7BiF,YAAQ,mBAFqB;AAG7BV,cAAU;AAHmB,MAK/BY,mDACKjE,OAAOC,IAAP,CAAYnB,MAAM8E,QAAlB,EAA4B9L,GAA5B,CAAgC;AAAA,WACjC,iBAAK;AACHmJ,2DAAmD2B,IAAnD,UADG;AAEHlC,cAAQsD;AAFL,KAAL,CADiC;AAAA,GAAhC,CADL,EAL+B,CAAX;AAAA,CAAtB;;AAeA,IAAME,UAAU,SAAVA,OAAU,CAAEpF,KAAF,QAAqB;AAAA,MAAXoE,IAAW,QAAXA,IAAW;;AACpCiB,UAAQC,GAAR,CAAY,iBAAZ,EAA+BlB,IAA/B;AACC,SAAOY,0BACJhF,KADI;AAEPoE,UAAMA;AAFC,KAAP;AAID,CAND;;AAQA,IAAMmB,eAAe;AACnBT,YAAU,EADS;AAEnBG,UAAQ,MAFW;AAGnBO,cAAY,IAHO;AAInBpB,QAAM,KAJa;AAKnBW,kBAAgB,EALG;AAMnBR,YAAU,KANS;AAOnBJ,aAAW;AAPQ,CAArB;;AAUA,gBAAI;AACFvD,QAAMoE,aAAaO,YAAb,CADJ;AAEFxG,aAAWvD,SAASiK,aAAT,CAAuB,MAAvB,CAFT;AAGFxF,QAAM;AAAA,WACJ;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,OADF;AAIE;AAAA;AAAA;AACE;AAAA;AAAA,YAAK,SAAM,OAAX;AACE,wBAAC,SAAD,CAAW,IAAX,IAAgB,OAAOD,KAAvB,EAA8B,OAAM,aAApC,EAAkD,KAAI,KAAtD,EAA4D,MAAK,KAAjE,EAAuE,UAAUoF,OAAjF,GADF;AAGE,wBAAC,SAAD,CAAW,IAAX,IAAgB,OAAOpF,KAAvB,EAA8B,OAAM,sBAApC,EAA2D,KAAI,KAA/D,EAAqE,MAAK,KAA1E,EAAgF,UAAUoF,OAA1F,GAHF;AAKE,wBAAC,SAAD,CAAW,IAAX,IAAgB,OAAOpF,KAAvB,EAA8B,OAAM,cAApC,EAAmD,KAAI,MAAvD,EAA8D,MAAK,MAAnE,EAA0E,UAAUoF,OAApF,GALF;AAOE,wBAAC,SAAD,CAAW,IAAX,IAAgB,OAAOpF,KAAvB,EAA8B,OAAM,gBAApC,EAAqD,KAAI,KAAzD,EAA+D,MAAK,OAApE,EAA4E,UAAUoF,OAAtF,GAPF;AASE,wBAAC,SAAD,CAAW,IAAX,IAAgB,OAAOpF,KAAvB,EAA8B,OAAM,iBAApC,EAAsD,KAAI,MAA1D,EAAiE,MAAK,QAAtE,EAA+E,UAAUoF,OAAzF,GATF;AAWE,wBAAC,SAAD,CAAW,IAAX,IAAgB,OAAOpF,KAAvB,EAA8B,OAAM,WAApC,EAAgD,KAAI,KAApD,EAA0D,MAAK,MAA/D,EAAsE,UAAUoF,OAAhF,GAXF;AAaE,wBAAC,SAAD,CAAW,OAAX,IAAmB,OAAOpF,KAA1B,EAAiC,WAAWgF,YAA5C;AAbF;AADF,OAJF;AAsBE;AAAA;AAAA;AACG9D,eAAOwE,OAAP,CAAe1F,MAAM8E,QAArB,EAA+B9L,GAA/B,CAAmC;AAAA,iBAClC,cAAC,OAAD,CAAS,IAAT,IAAc,OAAOgH,KAArB,EAA4B,MAAM8D,IAAlC,GADkC;AAAA,SAAnC;AADH,OAtBF;AA2BA,+BA3BA;AA4BI;AAAA;AAAA;AAAM6B,aAAKC,SAAL,CAAe5F,KAAf,EAAsB,IAAtB,EAA4B,CAA5B;AAAN;AA5BJ,KADI;AAAA;AAgCN;AACA;AACA;AACA;;AAtCE,CAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QP8cgBxH,MAAAA;AA/hBhB,IAAIC,UAAU,CAAd;AACA,IAAIC,gBAAgB,CAApB;AACA,IAAIC,YAAY,CAAhB;;AAEA,IAAIC,WAAW,8BAAf;AACA,IAAIC,SAAS,4BAAb;;AAEA,IAAIC,eAAe,EAAnB;AACA,IAAIC,cAAc,EAAlB;;AAEA,IAAIC,MAAMD,YAAYC,GAAtB;AACA,IAAIC,UAAUC,MAAMD,OAApB;;AAEA,IAAIE,QAAQ,SAARA,KAAQ,CAASC,CAAT,EAAYC,CAAZ,EAAe;AACzB,MAAIC,SAAS,EAAb;;AAEA,OAAK,IAAIC,CAAT,IAAcH,CAAd;AAAiBE,WAAOC,CAAP,IAAYH,EAAEG,CAAF,CAAZ;AAAjB,GACA,KAAK,IAAIA,CAAT,IAAcF,CAAd;AAAiBC,WAAOC,CAAP,IAAYF,EAAEE,CAAF,CAAZ;AAAjB,GAEA,OAAOD,MAAP;AACD,CAPD;;AASA,IAAIE,WAAW,OAAOC,OAAP,KAAmB,UAAnB,IAAiCA,QAAQC,OAAR,EAAhD;;AAEA,IAAIC,QAAQ,CAACH,QAAD,GACRI,UADQ,GAER,UAASC,EAAT,EAAa;AACX,SAAOL,SAASM,IAAT,CAAcD,EAAd,CAAP;AACD,CAJL;;AAMA,IAAIE,iBAAiB,SAAjBA,cAAiB,CACnBC,OADmB,EAEnBC,IAFmB,EAGnBC,SAHmB,EAInBC,SAJmB,EAKnBC,UALmB,EAMnBC,KANmB,EAOnB;AACA,MAAIJ,SAAS,KAAb,EAAoB,CACnB,CADD,MACO,IAAIA,SAAS,OAAb,EAAsB;AAC3B,SAAK,IAAIV,CAAT,IAAcJ,MAAMe,SAAN,EAAiBC,SAAjB,CAAd,EAA2C;AACzC,UAAIG,QAAQH,aAAa,IAAb,IAAqBA,UAAUZ,CAAV,KAAgB,IAArC,GAA4C,EAA5C,GAAiDY,UAAUZ,CAAV,CAA7D;AACA,UAAIA,EAAE,CAAF,MAAS,GAAb,EAAkB;AAChBS,gBAAQC,IAAR,EAAcM,WAAd,CAA0BhB,CAA1B,EAA6Be,KAA7B;AACD,OAFD,MAEO;AACLN,gBAAQC,IAAR,EAAcV,CAAd,IAAmBe,KAAnB;AACD;AACF;AACF,GATM,MASA;AACL,QAAIL,KAAK,CAAL,MAAY,GAAZ,IAAmBA,KAAK,CAAL,MAAY,GAAnC,EAAwC;AACtCA,aAAOA,KAAKO,KAAL,CAAW,CAAX,EAAcC,WAAd,EAAP;;AAEA,UAAI,CAACT,QAAQU,MAAb,EAAqBV,QAAQU,MAAR,GAAiB,EAAjB;;AAErBV,cAAQU,MAAR,CAAeT,IAAf,IAAuBE,SAAvB;;AAEA,UAAIA,aAAa,IAAjB,EAAuB;AACrBH,gBAAQW,mBAAR,CAA4BV,IAA5B,EAAkCG,UAAlC;AACD,OAFD,MAEO,IAAIF,aAAa,IAAjB,EAAuB;AAC5BF,gBAAQY,gBAAR,CAAyBX,IAAzB,EAA+BG,UAA/B;AACD;AACF,KAZD,MAYO;AACL,UAAIS,cAAcV,aAAa,IAAb,IAAqBA,cAAc,KAArD;;AAEA,UACEF,QAAQD,OAAR,IACAC,SAAS,MADT,IAEAA,SAAS,WAFT,IAGAA,SAAS,YAHT,IAIAA,SAAS,WAJT,IAKA,CAACI,KANH,EAOE;AACAL,gBAAQC,IAAR,IAAgBE,aAAa,IAAb,GAAoB,EAApB,GAAyBA,SAAzC;AACA,YAAIU,WAAJ,EAAiB;AACfb,kBAAQc,eAAR,CAAwBb,IAAxB;AACD;AACF,OAZD,MAYO;AACL,YAAIc,KAAKV,SAASJ,UAAUA,OAAOA,KAAKe,OAAL,CAAa,UAAb,EAAyB,EAAzB,CAAjB,CAAlB;AACA,YAAID,EAAJ,EAAQ;AACN,cAAIF,WAAJ,EAAiB;AACfb,oBAAQiB,iBAAR,CAA0BrC,QAA1B,EAAoCqB,IAApC;AACD,WAFD,MAEO;AACLD,oBAAQkB,cAAR,CAAuBtC,QAAvB,EAAiCqB,IAAjC,EAAuCE,SAAvC;AACD;AACF,SAND,MAMO;AACL,cAAIU,WAAJ,EAAiB;AACfb,oBAAQc,eAAR,CAAwBb,IAAxB;AACD,WAFD,MAEO;AACLD,oBAAQmB,YAAR,CAAqBlB,IAArB,EAA2BE,SAA3B;AACD;AACF;AACF;AACF;AACF;AACF,CAhED;;AAkEA,IAAIiB,gBAAgB,SAAhBA,aAAgB,CAASC,IAAT,EAAeC,SAAf,EAA0BlB,UAA1B,EAAsCC,KAAtC,EAA6C;AAC/D,MAAIL,UACFqB,KAAKE,IAAL,KAAc5C,SAAd,GACI6C,SAASC,cAAT,CAAwBJ,KAAKpB,IAA7B,CADJ,GAEI,CAACI,QAAQA,SAASgB,KAAKpB,IAAL,KAAc,KAAhC,IACEuB,SAASE,eAAT,CAAyB7C,MAAzB,EAAiCwC,KAAKpB,IAAtC,CADF,GAEEuB,SAASJ,aAAT,CAAuBC,KAAKpB,IAA5B,CALR;;AAOA,MAAI0B,QAAQN,KAAKM,KAAjB;AACA,MAAIA,MAAMC,QAAV,EAAoB;AAClBN,cAAUO,IAAV,CAAe,YAAW;AACxBF,YAAMC,QAAN,CAAe5B,OAAf;AACD,KAFD;AAGD;;AAED,OAAK,IAAIT,IAAI,CAAR,EAAWuC,SAAST,KAAKU,QAAL,CAAcD,MAAvC,EAA+CvC,IAAIuC,MAAnD,EAA2DvC,GAA3D,EAAgE;AAC9DS,YAAQgC,WAAR,CACEZ,cAAcC,KAAKU,QAAL,CAAcxC,CAAd,CAAd,EAAgC+B,SAAhC,EAA2ClB,UAA3C,EAAuDC,KAAvD,CADF;AAGD;;AAED,OAAK,IAAIJ,IAAT,IAAiB0B,KAAjB,EAAwB;AACtB5B,mBAAeC,OAAf,EAAwBC,IAAxB,EAA8B,IAA9B,EAAoC0B,MAAM1B,IAAN,CAApC,EAAiDG,UAAjD,EAA6DC,KAA7D;AACD;;AAED,SAAQgB,KAAKrB,OAAL,GAAeA,OAAvB;AACD,CA1BD;;AA4BA,IAAIiC,gBAAgB,SAAhBA,aAAgB,CAClBjC,OADkB,EAElBkC,SAFkB,EAGlBC,SAHkB,EAIlBb,SAJkB,EAKlBlB,UALkB,EAMlBC,KANkB,EAOlB+B,UAPkB,EAQlB;AACA,OAAK,IAAInC,IAAT,IAAiBd,MAAM+C,SAAN,EAAiBC,SAAjB,CAAjB,EAA8C;AAC5C,QACE,CAAClC,SAAS,OAAT,IAAoBA,SAAS,SAA7B,GACGD,QAAQC,IAAR,CADH,GAEGiC,UAAUjC,IAAV,CAFJ,MAEyBkC,UAAUlC,IAAV,CAH3B,EAIE;AACAF,qBACEC,OADF,EAEEC,IAFF,EAGEiC,UAAUjC,IAAV,CAHF,EAIEkC,UAAUlC,IAAV,CAJF,EAKEG,UALF,EAMEC,KANF;AAQD;AACF;;AAED,MAAIR,KAAKuC,aAAaD,UAAUP,QAAvB,GAAkCO,UAAUE,QAArD;AACA,MAAIxC,MAAM,IAAV,EAAgB;AACdyB,cAAUO,IAAV,CAAe,YAAW;AACxBhC,SAAGG,OAAH,EAAYkC,SAAZ;AACD,KAFD;AAGD;AACF,CAhCD;;AAkCA,IAAII,iBAAiB,SAAjBA,cAAiB,CAASjB,IAAT,EAAe;AAClC,OAAK,IAAI9B,IAAI,CAAR,EAAWuC,SAAST,KAAKU,QAAL,CAAcD,MAAvC,EAA+CvC,IAAIuC,MAAnD,EAA2DvC,GAA3D,EAAgE;AAC9D+C,mBAAejB,KAAKU,QAAL,CAAcxC,CAAd,CAAf;AACD;;AAED,MAAIM,KAAKwB,KAAKM,KAAL,CAAWY,SAApB;AACA,MAAI1C,MAAM,IAAV,EAAgB;AACdA,OAAGwB,KAAKrB,OAAR;AACD;;AAED,SAAOqB,KAAKrB,OAAZ;AACD,CAXD;;AAaA,IAAIwC,gBAAgB,SAAhBA,aAAgB,CAASC,MAAT,EAAiBpB,IAAjB,EAAuB;AACzC,MAAIqB,SAAS,SAATA,MAAS,GAAW;AACtBD,WAAOE,WAAP,CAAmBL,eAAejB,IAAf,CAAnB;AACD,GAFD;;AAIA,MAAIxB,KAAKwB,KAAKM,KAAL,IAAcN,KAAKM,KAAL,CAAWiB,QAAlC;AACA,MAAI/C,MAAM,IAAV,EAAgB;AACdA,OAAGwB,KAAKrB,OAAR,EAAiB0C,MAAjB;AACD,GAFD,MAEO;AACLA;AACD;AACF,CAXD;;AAaA,IAAIG,SAAS,SAATA,MAAS,CAASxB,IAAT,EAAe;AAC1B,SAAOA,QAAQ,IAAR,GAAe,IAAf,GAAsBA,KAAKyB,GAAlC;AACD,CAFD;;AAIA,IAAIC,eAAe,SAAfA,YAAe,CAAShB,QAAT,EAAmBiB,KAAnB,EAA0BC,GAA1B,EAA+B;AAChD,MAAIC,MAAM,EAAV;AACA,MAAIJ,GAAJ;AACA,MAAIzB,IAAJ;;AAEA,SAAO2B,SAASC,GAAhB,EAAqBD,OAArB,EAA8B;AAC5B,QAAI,CAACF,MAAM,CAACzB,OAAOU,SAASiB,KAAT,CAAR,EAAyBF,GAAhC,KAAwC,IAA5C,EAAkD;AAChDI,UAAIJ,GAAJ,IAAWzB,IAAX;AACD;AACF;;AAED,SAAO6B,GAAP;AACD,CAZD;;AAcA,IAAIC,eAAe,SAAfA,YAAe,CACjBV,MADiB,EAEjBzC,OAFiB,EAGjBoD,QAHiB,EAIjBC,QAJiB,EAKjB/B,SALiB,EAMjBlB,UANiB,EAOjBC,KAPiB,EAQjB;AACA,MAAIgD,aAAaD,QAAjB,EAA2B,CAC1B,CADD,MACO,IACLA,YAAY,IAAZ,IACAA,SAAS7B,IAAT,KAAkB5C,SADlB,IAEA0E,SAAS9B,IAAT,KAAkB5C,SAHb,EAIL;AACA,QAAIyE,SAASnD,IAAT,KAAkBoD,SAASpD,IAA/B,EAAqC;AACnCD,cAAQsD,SAAR,GAAoBD,SAASpD,IAA7B;AACD;AACF,GARM,MAQA,IAAImD,YAAY,IAAZ,IAAoBA,SAASnD,IAAT,KAAkBoD,SAASpD,IAAnD,EAAyD;AAC9D,QAAIsD,aAAad,OAAOe,YAAP,CACfpC,cAAciC,QAAd,EAAwB/B,SAAxB,EAAmClB,UAAnC,EAA+CC,KAA/C,CADe,EAEfL,OAFe,CAAjB;;AAKA,QAAIoD,YAAY,IAAhB,EAAsBZ,cAAcC,MAAd,EAAsBW,QAAtB;;AAEtBpD,cAAUuD,UAAV;AACD,GATM,MASA;AACLtB,kBACEjC,OADF,EAEEoD,SAASzB,KAFX,EAGE0B,SAAS1B,KAHX,EAIEL,SAJF,EAKElB,UALF,EAMGC,QAAQA,SAASgD,SAASpD,IAAT,KAAkB,KANtC,EAOEmD,SAAS7B,IAAT,KAAkB7C,aAPpB;;AAUA,QAAI+E,SAAJ;AACA,QAAIC,SAAJ;;AAEA,QAAIC,OAAJ;AACA,QAAIC,eAAeR,SAASrB,QAA5B;AACA,QAAI8B,cAAc,CAAlB;AACA,QAAIC,YAAYF,aAAa9B,MAAb,GAAsB,CAAtC;;AAEA,QAAIiC,OAAJ;AACA,QAAIC,eAAeX,SAAStB,QAA5B;AACA,QAAIkC,cAAc,CAAlB;AACA,QAAIC,YAAYF,aAAalC,MAAb,GAAsB,CAAtC;;AAEA,WAAOmC,eAAeC,SAAf,IAA4BL,eAAeC,SAAlD,EAA6D;AAC3DH,gBAAUd,OAAOe,aAAaC,WAAb,CAAP,CAAV;AACAE,gBAAUlB,OAAOmB,aAAaC,WAAb,CAAP,CAAV;;AAEA,UAAIN,WAAW,IAAX,IAAmBA,YAAYI,OAAnC,EAA4C;;AAE5CZ,mBACEnD,OADF,EAEE4D,aAAaC,WAAb,EAA0B7D,OAF5B,EAGE4D,aAAaC,WAAb,CAHF,EAIEG,aAAaC,WAAb,CAJF,EAKE3C,SALF,EAMElB,UANF,EAOEC,KAPF;;AAUAwD;AACAI;AACD;;AAED,WAAOA,eAAeC,SAAf,IAA4BL,eAAeC,SAAlD,EAA6D;AAC3DH,gBAAUd,OAAOe,aAAaE,SAAb,CAAP,CAAV;AACAC,gBAAUlB,OAAOmB,aAAaE,SAAb,CAAP,CAAV;;AAEA,UAAIP,WAAW,IAAX,IAAmBA,YAAYI,OAAnC,EAA4C;;AAE5CZ,mBACEnD,OADF,EAEE4D,aAAaE,SAAb,EAAwB9D,OAF1B,EAGE4D,aAAaE,SAAb,CAHF,EAIEE,aAAaE,SAAb,CAJF,EAKE5C,SALF,EAMElB,UANF,EAOEC,KAPF;;AAUAyD;AACAI;AACD;;AAED,QAAIL,cAAcC,SAAlB,EAA6B;AAC3B,aAAOG,eAAeC,SAAtB,EAAiC;AAC/BlE,gBAAQwD,YAAR,CACEpC,cACE4C,aAAaC,aAAb,CADF,EAEE3C,SAFF,EAGElB,UAHF,EAIEC,KAJF,CADF,EAOE,CAACqD,YAAYE,aAAaC,WAAb,CAAb,KAA2CH,UAAU1D,OAPvD;AASD;AACF,KAZD,MAYO,IAAIiE,cAAcC,SAAlB,EAA6B;AAClC,aAAOL,eAAeC,SAAtB,EAAiC;AAC/BtB,sBAAcxC,OAAd,EAAuB4D,aAAaC,aAAb,CAAvB;AACD;AACF,KAJM,MAIA;AACL,UAAIM,YAAYpB,aAAaa,YAAb,EAA2BC,WAA3B,EAAwCC,SAAxC,CAAhB;AACA,UAAIM,YAAY,EAAhB;;AAEA,aAAOH,eAAeC,SAAtB,EAAiC;AAC/BP,kBAAUd,OAAQa,YAAYE,aAAaC,WAAb,CAApB,CAAV;AACAE,kBAAUlB,OAAOmB,aAAaC,WAAb,CAAP,CAAV;;AAEA,YACEG,UAAUT,OAAV,KACCI,WAAW,IAAX,IAAmBA,YAAYlB,OAAOe,aAAaC,cAAc,CAA3B,CAAP,CAFlC,EAGE;AACA,cAAIF,WAAW,IAAf,EAAqB;AACnBnB,0BAAcxC,OAAd,EAAuB0D,SAAvB;AACD;AACDG;AACA;AACD;;AAED,YAAIE,WAAW,IAAX,IAAmBX,SAAS7B,IAAT,KAAkB7C,aAAzC,EAAwD;AACtD,cAAIiF,WAAW,IAAf,EAAqB;AACnBR,yBACEnD,OADF,EAEE0D,aAAaA,UAAU1D,OAFzB,EAGE0D,SAHF,EAIEM,aAAaC,WAAb,CAJF,EAKE3C,SALF,EAMElB,UANF,EAOEC,KAPF;AASA4D;AACD;AACDJ;AACD,SAdD,MAcO;AACL,cAAIF,YAAYI,OAAhB,EAAyB;AACvBZ,yBACEnD,OADF,EAEE0D,UAAU1D,OAFZ,EAGE0D,SAHF,EAIEM,aAAaC,WAAb,CAJF,EAKE3C,SALF,EAMElB,UANF,EAOEC,KAPF;AASA+D,sBAAUL,OAAV,IAAqB,IAArB;AACAF;AACD,WAZD,MAYO;AACL,gBAAI,CAACJ,YAAYU,UAAUJ,OAAV,CAAb,KAAoC,IAAxC,EAA8C;AAC5CZ,2BACEnD,OADF,EAEEA,QAAQwD,YAAR,CACEC,UAAUzD,OADZ,EAEE0D,aAAaA,UAAU1D,OAFzB,CAFF,EAMEyD,SANF,EAOEO,aAAaC,WAAb,CAPF,EAQE3C,SARF,EASElB,UATF,EAUEC,KAVF;AAYA+D,wBAAUL,OAAV,IAAqB,IAArB;AACD,aAdD,MAcO;AACLZ,2BACEnD,OADF,EAEE0D,aAAaA,UAAU1D,OAFzB,EAGE,IAHF,EAIEgE,aAAaC,WAAb,CAJF,EAKE3C,SALF,EAMElB,UANF,EAOEC,KAPF;AASD;AACF;AACD4D;AACD;AACF;;AAED,aAAOJ,eAAeC,SAAtB,EAAiC;AAC/B,YAAIjB,OAAQa,YAAYE,aAAaC,aAAb,CAApB,KAAqD,IAAzD,EAA+D;AAC7DrB,wBAAcxC,OAAd,EAAuB0D,SAAvB;AACD;AACF;;AAED,WAAK,IAAIZ,GAAT,IAAgBqB,SAAhB,EAA2B;AACzB,YAAIC,UAAUtB,GAAV,KAAkB,IAAtB,EAA4B;AAC1BN,wBAAcxC,OAAd,EAAuBmE,UAAUrB,GAAV,CAAvB;AACD;AACF;AACF;AACF;;AAED,SAAQO,SAASrD,OAAT,GAAmBA,OAA3B;AACD,CAvMD;;AAyMA,IAAIqE,cAAc,SAAdA,WAAc,CAASpE,IAAT,EAAe0B,KAAf,EAAsBI,QAAtB,EAAgC/B,OAAhC,EAAyC8C,GAAzC,EAA8CvB,IAA9C,EAAoD;AACpE,SAAO;AACLtB,UAAMA,IADD;AAEL0B,WAAOA,KAFF;AAGLI,cAAUA,QAHL;AAIL/B,aAASA,OAJJ;AAKL8C,SAAKA,GALA;AAMLvB,UAAMA;AAND,GAAP;AAQD,CATD;;AAWA,IAAI+C,kBAAkB,SAAlBA,eAAkB,CAASC,IAAT,EAAevE,OAAf,EAAwB;AAC5C,SAAOqE,YAAYE,IAAZ,EAAkBzF,YAAlB,EAAgCC,WAAhC,EAA6CiB,OAA7C,EAAsD,IAAtD,EAA4DrB,SAA5D,CAAP;AACD,CAFD;;AAIA,IAAI6F,eAAe,SAAfA,YAAe,CAASxE,OAAT,EAAkB;AACnC,SAAOA,QAAQyE,QAAR,KAAqB,CAArB,CAAuB;AAAvB,IACHH,gBAAgBtE,QAAQsD,SAAxB,EAAmCtD,OAAnC,CADG,GAEH0E,eAAe1E,OAAf,CAFJ;AAGD,CAJD;;AAMA,IAAI0E,iBAAiB,SAAjBA,cAAiB,CAAS1E,OAAT,EAAkB;AACrC,SAAOqE,YACLrE,QAAQ2E,QAAR,CAAiBlE,WAAjB,EADK,EAEL3B,YAFK,EAGLE,IAAI4F,IAAJ,CAAS5E,QAAQ6E,UAAjB,EAA6BL,YAA7B,CAHK,EAILxE,OAJK,EAKL,IALK,EAMLtB,aANK,CAAP;AAQD,CATD;;AAWA,IAAIoG,QAAQ,SAARA,KAAQ,CAASC,SAAT,EAAoB/E,OAApB,EAA6BoD,QAA7B,EAAuCC,QAAvC,EAAiDjD,UAAjD,EAA6D;AACvE,MAAIkB,YAAY,EAAhB;;AAEAtB,YAAUmD,aACR4B,SADQ,EAER/E,OAFQ,EAGRoD,QAHQ,EAIRC,QAJQ,EAKR/B,SALQ,EAMRlB,UANQ,CAAV;;AASA,SAAOkB,UAAUQ,MAAV,GAAmB,CAA1B;AAA6BR,cAAU0D,GAAV;AAA7B,GAEA,OAAOhF,OAAP;AACD,CAfD;;AAiBO,IAAIiF,gBAAI,SAAJA,CAAI,CAAShF,IAAT,EAAe0B,KAAf,EAAsB;AACnC,MAAIN,IAAJ;AACA,MAAI6D,OAAO,EAAX;AACA,MAAInD,WAAW,EAAf;AACA,MAAID,SAASqD,UAAUrD,MAAvB;;AAEA,SAAOA,WAAW,CAAlB;AAAqBoD,SAAKrD,IAAL,CAAUsD,UAAUrD,MAAV,CAAV;AAArB,GAEA,IAAI,CAACH,QAAQA,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,KAA9B,EAAqCI,QAArC,IAAiD,IAArD,EAA2D;AACzD,QAAImD,KAAKpD,MAAL,IAAe,CAAnB,EAAsB;AACpBoD,WAAKrD,IAAL,CAAUF,MAAMI,QAAhB;AACD;AACD,WAAOJ,MAAMI,QAAb;AACD;;AAED,SAAOmD,KAAKpD,MAAL,GAAc,CAArB,EAAwB;AACtB,QAAI7C,QAASoC,OAAO6D,KAAKF,GAAL,EAAhB,CAAJ,EAAkC;AAChC,WAAKlD,SAAST,KAAKS,MAAnB,EAA2BA,WAAW,CAAtC,GAA2C;AACzCoD,aAAKrD,IAAL,CAAUR,KAAKS,MAAL,CAAV;AACD;AACF,KAJD,MAIO,IAAIT,SAAS,KAAT,IAAkBA,SAAS,IAA3B,IAAmCA,QAAQ,IAA/C,EAAqD,CAC3D,CADM,MACA;AACLU,eAASF,IAAT,CAAc,QAAOR,IAAP,yCAAOA,IAAP,OAAgB,QAAhB,GAA2BA,IAA3B,GAAkCiD,gBAAgBjD,IAAhB,CAAhD;AACD;AACF;;AAED,SAAO,OAAOpB,IAAP,KAAgB,UAAhB,GACHA,KAAK0B,KAAL,EAAaA,MAAMI,QAAN,GAAiBA,QAA9B,CADG,GAEHsC,YAAYpE,IAAZ,EAAkB0B,KAAlB,EAAyBI,QAAzB,EAAmC,IAAnC,EAAyCJ,MAAMmB,GAA/C,EAAoDrE,OAApD,CAFJ;AAGD,CA7BM;;AA+BP,IAAI2G,SAAS,SAATA,MAAS,CAASC,GAAT,EAAc;AACzBA,MAAID,MAAJ;AACD,CAFD;;AAIA,IAAIE,cAAc,SAAdA,WAAc,CAASlG,CAAT,EAAYC,CAAZ,EAAe;AAC/B,MAAID,MAAMC,CAAV,EAAa;AACX,SAAK,IAAIkG,CAAT,IAAcpG,MAAMC,CAAN,EAASC,CAAT,CAAd,EAA2B;AACzB,UAAID,EAAEmG,CAAF,MAASlG,EAAEkG,CAAF,CAAb,EAAmB,OAAO,KAAP;AACpB;AACF;AACD,SAAO,IAAP;AACD,CAPD;;AASA,IAAIC,eAAe,SAAfA,YAAe,CAASpG,CAAT,EAAYC,CAAZ,EAAe;AAChC,SACE,QAAOD,CAAP,yCAAOA,CAAP,eAAoBC,CAApB,yCAAoBA,CAApB,MACCJ,QAAQG,CAAR,KAAcA,EAAE,CAAF,MAASC,EAAE,CAAF,CAAvB,IAA+BiG,YAAYlG,EAAE,CAAF,CAAZ,EAAkBC,EAAE,CAAF,CAAlB,CAFlC;AAID,CALD;;AAOA,IAAIoG,UAAU,SAAVA,OAAU,CAASJ,GAAT,EAAcK,MAAd,EAAsBC,QAAtB,EAAgC;AAC5C,OAAK,IAAIJ,CAAT,IAAcpG,MAAMkG,GAAN,EAAWK,MAAX,CAAd,EAAkC;AAChC,QAAIH,MAAM,QAAV,EAAoB,CACnB,CADD,MACO,IAAIF,IAAIE,CAAJ,MAAWG,OAAOH,CAAP,CAAX,IAAwBC,aAAaH,IAAIE,CAAJ,CAAb,EAAqBG,OAAOH,CAAP,CAArB,CAA5B,EAA6D,CACnE,CADM,MACA;AACLH,aAAOM,MAAP;AACA,aAAO1C,MAAMqC,GAAN,EAAWM,QAAX,CAAP;AACD;AACF;AACD,SAAOD,MAAP;AACD,CAVD;;AAYA,IAAI1C,QAAQ,SAARA,KAAQ,CAASqC,GAAT,EAAcM,QAAd,EAAwB;AAClC,SAAOxG,MAAMkG,GAAN,EAAW;AAChBD,YAAQC,IAAIO,MAAJ,CAAWP,GAAX,EAAgBM,QAAhB;AADQ,GAAX,CAAP;AAGD,CAJD;;AAMA,IAAIE,UAAU,SAAVA,OAAU,CAASR,GAAT,EAAcK,MAAd,EAAsBC,QAAtB,EAAgC;AAC5C,MAAI1G,QAAQoG,GAAR,KAAgBpG,QAAQyG,MAAR,CAApB,EAAqC;AACnC,QAAIxC,MAAM,EAAV;AACA,QAAI4C,OAAO7G,QAAQoG,GAAR,IAAeA,GAAf,GAAqB,CAACA,GAAD,CAAhC;AACA,QAAIU,UAAU9G,QAAQyG,MAAR,IAAkBA,MAAlB,GAA2B,CAACA,MAAD,CAAzC;;AAEA,SAAK,IAAInG,IAAI,CAAb,EAAgBA,IAAIuG,KAAKhE,MAAT,IAAmBvC,IAAIwG,QAAQjE,MAA/C,EAAuDvC,GAAvD,EAA4D;AAC1D2D,UAAIrB,IAAJ,CAASgE,QAAQC,KAAKvG,CAAL,CAAR,EAAiBwG,QAAQxG,CAAR,CAAjB,EAA6BoG,QAA7B,CAAT;AACD;;AAED,WAAOzC,GAAP;AACD;;AAED,SAAOmC,MACHK,SACED,QAAQJ,GAAR,EAAaK,MAAb,EAAqBC,QAArB,CADF,GAEE3C,MAAMqC,GAAN,EAAWM,QAAX,CAHC,GAIHD,SACEN,OAAOM,MAAP,CADF,GAEEA,MANN;AAOD,CApBD;;AAsBO,SAASlH,GAAT,CAAamD,KAAb,EAAoB;AACzB,MAAIqE,KAAJ;AACA,MAAIC,OAAOtE,MAAMsE,IAAjB;AACA,MAAIH,OAAOnE,MAAMuE,aAAjB;AACA,MAAInB,YAAYpD,MAAMoD,SAAtB;AACA,MAAI/E,UAAU+E,UAAUhD,QAAV,CAAmB,CAAnB,CAAd;AACA,MAAIqB,WAAWpD,WAAW0E,eAAe1E,OAAf,CAA1B;AACA,MAAImG,UAAU,EAAd;AACA,MAAIC,mBAAmB,KAAvB;;AAEA,MAAIC,WAAW,SAAXA,QAAW,CAASC,QAAT,EAAmB;AAChC,QAAIN,UAAUM,QAAd,EAAwB;AACtBN,cAAQM,QAAR;;AAEA,UAAI,CAACF,gBAAL,EAAuB;AACrBA,2BAAmB,IAAnB;AACAzG,cAAM4G,MAAN;AACD;AACF;AACF,GATD;;AAWA,MAAIZ,WAAW,SAAXA,QAAW,CAASa,GAAT,EAAcC,IAAd,EAAoB;AACjC,QAAID,OAAO,IAAX,EAAiB,CAChB,CADD,MACO,IAAI,OAAOA,GAAP,KAAe,UAAnB,EAA+B;AACpCb,eAASa,IAAIR,KAAJ,EAAWS,IAAX,CAAT;AACD,KAFM,MAEA,IAAIxH,QAAQuH,GAAR,CAAJ,EAAkB;AACvB,UAAI,OAAOA,IAAI,CAAJ,CAAP,KAAkB,UAAtB,EAAkC;AAChCb,iBAASa,IAAI,CAAJ,EAAOR,KAAP,EAAcQ,IAAI,CAAJ,CAAd,EAAsBC,IAAtB,CAAT;AACD,OAFD,MAEO;AACLD,YAAI,CAAJ,EAAOZ,MAAP,CAAcY,IAAI,CAAJ,CAAd,EAAsBb,QAAtB,EAAgCU,SAASG,IAAI,CAAJ,CAAT,CAAhC;AACD;AACF,KANM,MAMA;AACLH,eAASG,GAAT;AACD;AACF,GAbD;;AAeA,MAAIpG,aAAa,SAAbA,UAAa,CAASsG,KAAT,EAAgB;AAC/Bf,aAASe,MAAMC,aAAN,CAAoBjG,MAApB,CAA2BgG,MAAMnF,IAAjC,CAAT,EAAiDmF,KAAjD;AACD,GAFD;;AAIA,MAAIH,SAAS,SAATA,MAAS,GAAW;AACtBH,uBAAmB,KAAnB;;AAEA,QAAIN,IAAJ,EAAU;AACRK,gBAAUN,QAAQC,KAAKE,KAAL,CAAR,EAAqBG,OAArB,EAA8BR,QAA9B,CAAV;AACD;;AAED,QAAIM,IAAJ,EAAU;AACRjG,gBAAU8E,MACRC,SADQ,EAER/E,OAFQ,EAGRoD,QAHQ,EAIPA,WAAW6C,KAAKD,KAAL,CAJJ,EAKR5F,UALQ,CAAV;AAOD;AACF,GAhBD;;AAkBAuF,WAAShE,MAAMiF,IAAf;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;AD1lBM,IAAMC,8BAAW,SAAXA,QAAW,CAACJ,IAAD,EAAU;AAChC,MAAMK,SAASL,KAAKzH,GAAL,CAAS;AAAA,+BAAQO,CAAR,EAAY,EAAZ;AAAA,GAAT,CAAf;AACA,MAAMwH,WAAWD,OAAOE,MAAP,CAAc,UAACR,GAAD,EAAMS,CAAN,EAAY;AACzCT,QAAIU,OAAOC,IAAP,CAAYF,CAAZ,EAAe,CAAf,CAAJ,IAAyB,EAACG,QAAQ,KAAT,EAAzB;AACA,WAAOZ,GAAP;AACD,GAHgB,EAGb,EAHa,CAAjB;AAIA,SAAOO,QAAP;AACD,CAPM;;AASA,IAAMvG,wBAAQ,SAARA,KAAQ,CAACiG,IAAD,EAAOY,IAAP;AAAA,SACnBZ,KAAKjG,KAAL,CAAW,CAAX,EAAa6G,IAAb,CADmB;AAAA,CAAd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QETSC,SAAAA;QAQAC,qBAAAA;AART,SAASD,MAAT,CAAgBE,MAAhB,EAAwBC,WAAxB,EAAqC;AAC1C,MAAIC,SAAS,EAAb;AAAA,MACEnI,CADF;AAEA,OAAKA,CAAL,IAAUiI,MAAV;AAAkBE,WAAOnI,CAAP,IAAYiI,OAAOjI,CAAP,CAAZ;AAAlB,GACA,KAAKA,CAAL,IAAUkI,WAAV;AAAuBC,WAAOnI,CAAP,IAAYkI,YAAYlI,CAAZ,CAAZ;AAAvB,GACA,OAAOmI,MAAP;AACD;;AAEM,SAASH,kBAAT,CAA4BI,QAA5B,EAAsChC,QAAtC,EAAgDiC,MAAhD,EAAwDC,SAAxD,EAAmE;AACxE,MAAIC,UAAUnC,SAASoC,IAAT,CAAc,IAAd,EAAoBH,MAApB,CAAd;AACAD,WAAS/G,gBAAT,CAA0BiH,SAA1B,EAAqCC,OAArC;AACA,SAAO,YAAW;AAChBH,aAAShH,mBAAT,CAA6BkH,SAA7B,EAAwCC,OAAxC;AACD,GAFD;AAGD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QCOeE,OAAAA;;AArBhB;;AAEA,SAASC,UAAT,CAAoBtG,KAApB,EAA2BgE,QAA3B,EAAqC;AACnCuC,QAAMvG,MAAMwG,GAAZ,EAAiBxG,MAAMyG,OAAvB,EACGtI,IADH,CACQ,UAASuI,QAAT,EAAmB;AACvB,QAAI,CAACA,SAASC,EAAd,EAAkB;AAChB,YAAMD,QAAN;AACD;AACD,WAAOA,QAAP;AACD,GANH,EAOGvI,IAPH,CAOQ,UAASuI,QAAT,EAAmB;AACvB,WAAOA,SAAS1G,MAAM0G,QAAf,GAAP;AACD,GATH,EAUGvI,IAVH,CAUQ,UAAS4H,MAAT,EAAiB;AACrB/B,aAAShE,MAAMiG,MAAf,EAAuBF,MAAvB;AACD,GAZH,EAaGa,KAbH,CAaS,UAASC,KAAT,EAAgB;AACrB7C,aAAShE,MAAM6G,KAAf,EAAsBA,KAAtB;AACD,GAfH;AAgBD;;AAEM,SAASR,IAAT,CAAcrG,KAAd,EAAqB;AAC1B,SAAO,mBACL;AACEyG,aAAS,EADX;AAEEC,cAAU,MAFZ;AAGEG,WAAO7G,MAAMiG,MAHf;AAIEhC,YAAQqC;AAJV,GADK,EAOLtG,KAPK,CAAP;AASD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kBCiBuB8G;;;;;;AAhDxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDe,SAASA,QAAT,CAAmBC,IAAnB,EAAyB1J,GAAzB,EAA8B;AAAA,aAClBE,MAAMD,OAAN,CAAcyJ,IAAd,IAAsBA,IAAtB,GAA6BA,KAAKC,KAAL,CAAW,GAAX,EAAgBC,OAAhB,EADX;AAAA;AAAA,MAClC9F,GADkC;AAAA,MAC1BoC,IAD0B;;AAEzC,MAAIA,KAAKpD,MAAT,EAAiB9C,MAAMyJ,SAASvD,IAAT,EAAelG,GAAf,CAAN;AACjB,MAAM6J,IAAI,SAAJA,CAAI;AAAA,WAAK;AAAA,0BAAUC,CAAV,sBAAchG,GAAd,EAAoBiG,EAAED,EAAEhG,GAAF,CAAF,CAApB;AAAA,KAAL;AAAA,GAAV;AACA,SAAO9D,MAAM;AAAA,WAAKA,IAAI6J,EAAEC,CAAF,CAAJ,CAAL;AAAA,GAAN,GAAuBD,CAA9B;AACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDD;;kNADA;;;kBAGe,UAAC7J,GAAD,EAAyB;AAAA,MAAnBgK,SAAmB,uEAAP,EAAO;;AACtC,MAAMC,UAAU,EAAExC,MAAM,EAAR,EAAhB;;AAEA,MAAMyC,aAAa,SAAbA,UAAa,CAAClD,KAAD,EAAQmD,EAAR;AAAA,QAAa7J,MAAb,QAAaA,MAAb;AAAA,WAAyBN,IAAK,UAACoK,CAAD,EAAO;AACtD,UAAGA,EAAED,GAAGA,EAAL,CAAH,EAAa;AACX,4BACKC,CADL,sBAEGD,GAAGA,EAFN,EAEWE,SAFX;AAID,OALD,MAKO;AACL,4BACKD,CADL,sBAEGD,GAAGA,EAFN,EAEW,IAAIG,IAAJ,EAFX;AAID;AACF,KAZ2C,CAAzB;AAAA,GAAnB;;AAeA,MAAMC,WAAW,SAAXA,QAAW,CAACvD,KAAD,EAAQmD,EAAR,EAAYzC,KAAZ;AAAA,WACf,OAAOsC,UAAUQ,UAAjB,IAA8B,UAA9B,GACER,UAAUQ,UAAV,CAAsBN,WAAWlD,KAAX,EAAkBmD,EAAlB,EAAsBzC,KAAtB,EAA6BV,KAA7B,CAAtB,EAA4DA,MAAM+C,CAAlE,CADF,GAEIG,WAAWlD,KAAX,EAAkBmD,EAAlB,EAAsBzC,KAAtB,CAHW;AAAA,GAAjB;;AAKA,MAAM+C,OAAO,SAAPA,IAAO,CAACzD,KAAD,EAAQmD,EAAR;AAAA,WAAenD,MAAMmD,EAAN,IAAY,iBAAZ,GAAgC,iBAA/C;AAAA,GAAb;;AAEA,MAAMlD,OAAO,SAAPA,IAAO;AAAA,QAAED,KAAF,SAAEA,KAAF;AAAA,QAASmD,EAAT,SAASA,EAAT;AAAA,WACX;AAAA;AAAA,QAAK,SAAM,UAAX;AACE,yBAAG,SAAOM,KAAKzD,KAAL,EAAYmD,EAAZ,CAAV;AACG,iBAAS,CAACI,QAAD,EAAW,EAACJ,IAAIA,EAAL,EAAX,CADZ;AADF,KADW;AAAA,GAAb;;AAOA,SAAO,EAAEF,gBAAF,EAAWhD,UAAX,EAAP;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kQCpCD;;;AACA;;AACA;;IAAYyD;;AACZ;;;;AAEA;;;;;;;;AAEA,IAAMD,OAAO,SAAPA,IAAO,CAACE,QAAD,EAAWxB,GAAX,EAAmB;AAC9B,UAAOwB,QAAP;AACE,SAAK,KAAL;AAAY,aAAO,iBAAP;AACZ,SAAK,OAAL;AAAc,aAAO,CAACxB,GAAD,GAAK,iBAAL,GAAuB,kBAA9B;AACd,SAAK,SAAL;AAAgB,aAAO,iBAAP;AAChB,SAAK,MAAL;AAAa,aAAO,aAAP;AACb,SAAK,SAAL;AAAgB,aAAO,aAAP;AALlB;AAOD,CARD;;AAUA,IAAMyB,WAAW,wBAAU,wBAAS,WAAT,CAAV,EAAkC,EAAlC,CAAjB;;AAEA,IAAMC,aAAa,SAAbA,UAAa,CAAC7D,KAAD;AAAA,sBACdA,KADc;AAAA,CAAnB,EAEG;;AAEI,IAAMC,sBAAO,SAAPA,IAAO,OAAqB;AAAA,MAAlBD,KAAkB,QAAlBA,KAAkB;AAAA,MAAX8D,IAAW,QAAXA,IAAW;;AACvC,MAAGA,KAAK,CAAL,EAAQC,OAAX,EAAoB;AAClB,WACE;AAAA;AAAA,QAAK,SAAM,IAAX;AACE;AAAA;AAAA;AACE,2BAAG,SAAON,KAAKK,KAAK,CAAL,EAAQvI,IAAb,EAAmBuI,KAAK,CAAL,EAAQ3B,GAA3B,CAAV;AADF,OADF;AAIE;AAAA;AAAA;AACE;AAAA;AAAA,YAAG,MAAM2B,KAAK,CAAL,EAAQ3B,GAAjB,EAAsB,QAAO,QAA7B;AAAwC2B,eAAK,CAAL,EAAQE;AAAhD;AADF,OAJF;AAOE;AAAA;AAAA,UAAK,SAAM,IAAX;AAAiBF,aAAK,CAAL,EAAQG;AAAzB,OAPF;AAQE;AAAA;AAAA,UAAK,SAAM,OAAX;AAAoBH,aAAK,CAAL,EAAQI;AAA5B,OARF;AASE,kBAAC,QAAD,CAAU,IAAV;AACI,eAAOlE,MAAMmE,SADjB;AAEI,YAAIL,KAAK,CAAL,CAFR;AAGI,mBAAY,EAACN,YAAYK,UAAb,EAHhB;AATF,KADF;AAgBD,GAjBD,MAiBO;AACL,WACE;AAAA;AAAA,QAAK,SAAM,YAAX;AAAA;AAAA,KADF;AAGD;AACF,CAvBM;;AAyBP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CA;;AAGO,IAAMO,sBAAO,SAAPA,IAAO;AAAA,QAAEpE,KAAF,QAAEA,KAAF;AAAA,QAASqE,GAAT,QAASA,GAAT;AAAA,QAAcL,KAAd,QAAcA,KAAd;AAAA,QAAqBzF,IAArB,QAAqBA,IAArB;AAAA,QAA2B+F,QAA3B,QAA2BA,QAA3B;AAAA,WAChB;AAAA;AAAA;AACE,mBAAON,KADT;AAEE,qBAAOhE,MAAMoE,IAAN,IAAcC,GAAd,GAAoB,UAApB,GAAiC,EAF1C;AAGE,qBAAU,CAAEC,QAAF,EAAY,EAACF,MAAMC,GAAP,EAAZ,CAHZ;AAIE,sBAAUrE,MAAMuE,QAJlB;AAI6BhG;AAJ7B,KADgB;AAAA,CAAb,EAJP;AAaO,IAAMsB,4BAAU,SAAVA,OAAU;AAAA,QAAEG,KAAF,SAAEA,KAAF;AAAA,QAASwE,SAAT,SAASA,SAAT;AAAA,WACnB;AAAA;AAAA;AACE,mBAAM,SADR;AAEE,qBAAM,SAFR;AAGE,sBAAUxE,MAAMuE,QAHlB;AAIE,qBAASC,SAJX;AAKI,2BAAG,SAAOxE,MAAMuE,QAAN,GAAiB,wBAAjB,GAA4C,gBAAtD;AALJ,KADmB;AAAA,CAAhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEbP,IAAIsB,YAAY,IAAhB;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,gBAAYE,cAAZ;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,QAAIC,UAAU,CAAC,KAAKD,IAAIE,KAAV,EAAiBC,KAAjB,CAAuB,gCAAvB,CAAd;AACA,QAAIF,OAAJ,EAAa;AACX,aAAOG,WAAWH,QAAQ,CAAR,CAAX,CAAP;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASG,UAAT,CAAoBlE,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWnH,OAAX,CAAmB,uCAAnB,EAA4D,IAA5D,IAAoE,GAA3E;AACD;;AAEDsL,QAAQP,YAAR,GAAuBD,kBAAvB;AACAQ,QAAQD,UAAR,GAAqBA,UAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA,IAAIE,SAASC,QAAQ,cAAR,CAAb;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,UAAUD,KAAKE,SAAL,EAAd;AACAD,UAAQE,MAAR,GAAiB,YAAY;AAC3BH,SAAKhK,MAAL;AACD,GAFD;AAGAiK,UAAQG,IAAR,GAAeJ,KAAKI,IAAL,CAAUnE,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCW,KAAKyD,GAAL,EAA/C;AACAL,OAAKM,UAAL,CAAgBxJ,YAAhB,CAA6BmJ,OAA7B,EAAsCD,KAAKO,WAA3C;AACD;;AAED,IAAIC,aAAa,IAAjB;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,eAAatN,WAAW,YAAY;AAClC,QAAIwN,QAAQ5L,SAAS6L,gBAAT,CAA0B,wBAA1B,CAAZ;AACA,SAAK,IAAI9N,IAAI,CAAb,EAAgBA,IAAI6N,MAAMtL,MAA1B,EAAkCvC,GAAlC,EAAuC;AACrC,UAAIgN,OAAOF,UAAP,CAAkBe,MAAM7N,CAAN,EAASuN,IAA3B,MAAqCP,OAAOR,YAAP,EAAzC,EAAgE;AAC9DU,mBAAWW,MAAM7N,CAAN,CAAX;AACD;AACF;;AAED2N,iBAAa,IAAb;AACD,GATY,EASV,EATU,CAAb;AAUD;;AAEDI,OAAOhB,OAAP,GAAiBa,SAAjB","file":"index.map","sourceRoot":"..","sourcesContent":["var DEFAULT = 0\nvar RECYCLED_NODE = 1\nvar TEXT_NODE = 2\n\nvar XLINK_NS = \"http://www.w3.org/1999/xlink\"\nvar SVG_NS = \"http://www.w3.org/2000/svg\"\n\nvar EMPTY_OBJECT = {}\nvar EMPTY_ARRAY = []\n\nvar map = EMPTY_ARRAY.map\nvar isArray = Array.isArray\n\nvar merge = function(a, b) {\n  var target = {}\n\n  for (var i in a) target[i] = a[i]\n  for (var i in b) target[i] = b[i]\n\n  return target\n}\n\nvar resolved = typeof Promise === \"function\" && Promise.resolve()\n\nvar defer = !resolved\n  ? setTimeout\n  : function(cb) {\n      return resolved.then(cb)\n    }\n\nvar updateProperty = function(\n  element,\n  name,\n  lastValue,\n  nextValue,\n  eventProxy,\n  isSvg\n) {\n  if (name === \"key\") {\n  } else if (name === \"style\") {\n    for (var i in merge(lastValue, nextValue)) {\n      var style = nextValue == null || nextValue[i] == null ? \"\" : nextValue[i]\n      if (i[0] === \"-\") {\n        element[name].setProperty(i, style)\n      } else {\n        element[name][i] = style\n      }\n    }\n  } else {\n    if (name[0] === \"o\" && name[1] === \"n\") {\n      name = name.slice(2).toLowerCase()\n\n      if (!element.events) element.events = {}\n\n      element.events[name] = nextValue\n\n      if (nextValue == null) {\n        element.removeEventListener(name, eventProxy)\n      } else if (lastValue == null) {\n        element.addEventListener(name, eventProxy)\n      }\n    } else {\n      var nullOrFalse = nextValue == null || nextValue === false\n\n      if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = nextValue == null ? \"\" : nextValue\n        if (nullOrFalse) {\n          element.removeAttribute(name)\n        }\n      } else {\n        var ns = isSvg && name !== (name = name.replace(/^xlink:?/, \"\"))\n        if (ns) {\n          if (nullOrFalse) {\n            element.removeAttributeNS(XLINK_NS, name)\n          } else {\n            element.setAttributeNS(XLINK_NS, name, nextValue)\n          }\n        } else {\n          if (nullOrFalse) {\n            element.removeAttribute(name)\n          } else {\n            element.setAttribute(name, nextValue)\n          }\n        }\n      }\n    }\n  }\n}\n\nvar createElement = function(node, lifecycle, eventProxy, isSvg) {\n  var element =\n    node.type === TEXT_NODE\n      ? document.createTextNode(node.name)\n      : (isSvg = isSvg || node.name === \"svg\")\n        ? document.createElementNS(SVG_NS, node.name)\n        : document.createElement(node.name)\n\n  var props = node.props\n  if (props.onCreate) {\n    lifecycle.push(function() {\n      props.onCreate(element)\n    })\n  }\n\n  for (var i = 0, length = node.children.length; i < length; i++) {\n    element.appendChild(\n      createElement(node.children[i], lifecycle, eventProxy, isSvg)\n    )\n  }\n\n  for (var name in props) {\n    updateProperty(element, name, null, props[name], eventProxy, isSvg)\n  }\n\n  return (node.element = element)\n}\n\nvar updateElement = function(\n  element,\n  lastProps,\n  nextProps,\n  lifecycle,\n  eventProxy,\n  isSvg,\n  isRecycled\n) {\n  for (var name in merge(lastProps, nextProps)) {\n    if (\n      (name === \"value\" || name === \"checked\"\n        ? element[name]\n        : lastProps[name]) !== nextProps[name]\n    ) {\n      updateProperty(\n        element,\n        name,\n        lastProps[name],\n        nextProps[name],\n        eventProxy,\n        isSvg\n      )\n    }\n  }\n\n  var cb = isRecycled ? nextProps.onCreate : nextProps.onUpdate\n  if (cb != null) {\n    lifecycle.push(function() {\n      cb(element, lastProps)\n    })\n  }\n}\n\nvar removeChildren = function(node) {\n  for (var i = 0, length = node.children.length; i < length; i++) {\n    removeChildren(node.children[i])\n  }\n\n  var cb = node.props.onDestroy\n  if (cb != null) {\n    cb(node.element)\n  }\n\n  return node.element\n}\n\nvar removeElement = function(parent, node) {\n  var remove = function() {\n    parent.removeChild(removeChildren(node))\n  }\n\n  var cb = node.props && node.props.onRemove\n  if (cb != null) {\n    cb(node.element, remove)\n  } else {\n    remove()\n  }\n}\n\nvar getKey = function(node) {\n  return node == null ? null : node.key\n}\n\nvar createKeyMap = function(children, start, end) {\n  var out = {}\n  var key\n  var node\n\n  for (; start <= end; start++) {\n    if ((key = (node = children[start]).key) != null) {\n      out[key] = node\n    }\n  }\n\n  return out\n}\n\nvar patchElement = function(\n  parent,\n  element,\n  lastNode,\n  nextNode,\n  lifecycle,\n  eventProxy,\n  isSvg\n) {\n  if (nextNode === lastNode) {\n  } else if (\n    lastNode != null &&\n    lastNode.type === TEXT_NODE &&\n    nextNode.type === TEXT_NODE\n  ) {\n    if (lastNode.name !== nextNode.name) {\n      element.nodeValue = nextNode.name\n    }\n  } else if (lastNode == null || lastNode.name !== nextNode.name) {\n    var newElement = parent.insertBefore(\n      createElement(nextNode, lifecycle, eventProxy, isSvg),\n      element\n    )\n\n    if (lastNode != null) removeElement(parent, lastNode)\n\n    element = newElement\n  } else {\n    updateElement(\n      element,\n      lastNode.props,\n      nextNode.props,\n      lifecycle,\n      eventProxy,\n      (isSvg = isSvg || nextNode.name === \"svg\"),\n      lastNode.type === RECYCLED_NODE\n    )\n\n    var savedNode\n    var childNode\n\n    var lastKey\n    var lastChildren = lastNode.children\n    var lastChStart = 0\n    var lastChEnd = lastChildren.length - 1\n\n    var nextKey\n    var nextChildren = nextNode.children\n    var nextChStart = 0\n    var nextChEnd = nextChildren.length - 1\n\n    while (nextChStart <= nextChEnd && lastChStart <= lastChEnd) {\n      lastKey = getKey(lastChildren[lastChStart])\n      nextKey = getKey(nextChildren[nextChStart])\n\n      if (lastKey == null || lastKey !== nextKey) break\n\n      patchElement(\n        element,\n        lastChildren[lastChStart].element,\n        lastChildren[lastChStart],\n        nextChildren[nextChStart],\n        lifecycle,\n        eventProxy,\n        isSvg\n      )\n\n      lastChStart++\n      nextChStart++\n    }\n\n    while (nextChStart <= nextChEnd && lastChStart <= lastChEnd) {\n      lastKey = getKey(lastChildren[lastChEnd])\n      nextKey = getKey(nextChildren[nextChEnd])\n\n      if (lastKey == null || lastKey !== nextKey) break\n\n      patchElement(\n        element,\n        lastChildren[lastChEnd].element,\n        lastChildren[lastChEnd],\n        nextChildren[nextChEnd],\n        lifecycle,\n        eventProxy,\n        isSvg\n      )\n\n      lastChEnd--\n      nextChEnd--\n    }\n\n    if (lastChStart > lastChEnd) {\n      while (nextChStart <= nextChEnd) {\n        element.insertBefore(\n          createElement(\n            nextChildren[nextChStart++],\n            lifecycle,\n            eventProxy,\n            isSvg\n          ),\n          (childNode = lastChildren[lastChStart]) && childNode.element\n        )\n      }\n    } else if (nextChStart > nextChEnd) {\n      while (lastChStart <= lastChEnd) {\n        removeElement(element, lastChildren[lastChStart++])\n      }\n    } else {\n      var lastKeyed = createKeyMap(lastChildren, lastChStart, lastChEnd)\n      var nextKeyed = {}\n\n      while (nextChStart <= nextChEnd) {\n        lastKey = getKey((childNode = lastChildren[lastChStart]))\n        nextKey = getKey(nextChildren[nextChStart])\n\n        if (\n          nextKeyed[lastKey] ||\n          (nextKey != null && nextKey === getKey(lastChildren[lastChStart + 1]))\n        ) {\n          if (lastKey == null) {\n            removeElement(element, childNode)\n          }\n          lastChStart++\n          continue\n        }\n\n        if (nextKey == null || lastNode.type === RECYCLED_NODE) {\n          if (lastKey == null) {\n            patchElement(\n              element,\n              childNode && childNode.element,\n              childNode,\n              nextChildren[nextChStart],\n              lifecycle,\n              eventProxy,\n              isSvg\n            )\n            nextChStart++\n          }\n          lastChStart++\n        } else {\n          if (lastKey === nextKey) {\n            patchElement(\n              element,\n              childNode.element,\n              childNode,\n              nextChildren[nextChStart],\n              lifecycle,\n              eventProxy,\n              isSvg\n            )\n            nextKeyed[nextKey] = true\n            lastChStart++\n          } else {\n            if ((savedNode = lastKeyed[nextKey]) != null) {\n              patchElement(\n                element,\n                element.insertBefore(\n                  savedNode.element,\n                  childNode && childNode.element\n                ),\n                savedNode,\n                nextChildren[nextChStart],\n                lifecycle,\n                eventProxy,\n                isSvg\n              )\n              nextKeyed[nextKey] = true\n            } else {\n              patchElement(\n                element,\n                childNode && childNode.element,\n                null,\n                nextChildren[nextChStart],\n                lifecycle,\n                eventProxy,\n                isSvg\n              )\n            }\n          }\n          nextChStart++\n        }\n      }\n\n      while (lastChStart <= lastChEnd) {\n        if (getKey((childNode = lastChildren[lastChStart++])) == null) {\n          removeElement(element, childNode)\n        }\n      }\n\n      for (var key in lastKeyed) {\n        if (nextKeyed[key] == null) {\n          removeElement(element, lastKeyed[key])\n        }\n      }\n    }\n  }\n\n  return (nextNode.element = element)\n}\n\nvar createVNode = function(name, props, children, element, key, type) {\n  return {\n    name: name,\n    props: props,\n    children: children,\n    element: element,\n    key: key,\n    type: type\n  }\n}\n\nvar createTextVNode = function(text, element) {\n  return createVNode(text, EMPTY_OBJECT, EMPTY_ARRAY, element, null, TEXT_NODE)\n}\n\nvar recycleChild = function(element) {\n  return element.nodeType === 3 // Node.TEXT_NODE\n    ? createTextVNode(element.nodeValue, element)\n    : recycleElement(element)\n}\n\nvar recycleElement = function(element) {\n  return createVNode(\n    element.nodeName.toLowerCase(),\n    EMPTY_OBJECT,\n    map.call(element.childNodes, recycleChild),\n    element,\n    null,\n    RECYCLED_NODE\n  )\n}\n\nvar patch = function(container, element, lastNode, nextNode, eventProxy) {\n  var lifecycle = []\n\n  element = patchElement(\n    container,\n    element,\n    lastNode,\n    nextNode,\n    lifecycle,\n    eventProxy\n  )\n\n  while (lifecycle.length > 0) lifecycle.pop()()\n\n  return element\n}\n\nexport var h = function(name, props) {\n  var node\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  if ((props = props == null ? {} : props).children != null) {\n    if (rest.length <= 0) {\n      rest.push(props.children)\n    }\n    delete props.children\n  }\n\n  while (rest.length > 0) {\n    if (isArray((node = rest.pop()))) {\n      for (length = node.length; length-- > 0; ) {\n        rest.push(node[length])\n      }\n    } else if (node === false || node === true || node == null) {\n    } else {\n      children.push(typeof node === \"object\" ? node : createTextVNode(node))\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(props, (props.children = children))\n    : createVNode(name, props, children, null, props.key, DEFAULT)\n}\n\nvar cancel = function(sub) {\n  sub.cancel()\n}\n\nvar isSameValue = function(a, b) {\n  if (a !== b) {\n    for (var k in merge(a, b)) {\n      if (a[k] !== b[k]) return false\n    }\n  }\n  return true\n}\n\nvar isSameAction = function(a, b) {\n  return (\n    typeof a === typeof b &&\n    (isArray(a) && a[0] === b[0] && isSameValue(a[1], b[1]))\n  )\n}\n\nvar restart = function(sub, oldSub, dispatch) {\n  for (var k in merge(sub, oldSub)) {\n    if (k === \"cancel\") {\n    } else if (sub[k] === oldSub[k] || isSameAction(sub[k], oldSub[k])) {\n    } else {\n      cancel(oldSub)\n      return start(sub, dispatch)\n    }\n  }\n  return oldSub\n}\n\nvar start = function(sub, dispatch) {\n  return merge(sub, {\n    cancel: sub.effect(sub, dispatch)\n  })\n}\n\nvar refresh = function(sub, oldSub, dispatch) {\n  if (isArray(sub) || isArray(oldSub)) {\n    var out = []\n    var subs = isArray(sub) ? sub : [sub]\n    var oldSubs = isArray(oldSub) ? oldSub : [oldSub]\n\n    for (var i = 0; i < subs.length || i < oldSubs.length; i++) {\n      out.push(refresh(subs[i], oldSubs[i], dispatch))\n    }\n\n    return out\n  }\n\n  return sub\n    ? oldSub\n      ? restart(sub, oldSub, dispatch)\n      : start(sub, dispatch)\n    : oldSub\n      ? cancel(oldSub)\n      : oldSub\n}\n\nexport function app(props) {\n  var state\n  var view = props.view\n  var subs = props.subscriptions\n  var container = props.container\n  var element = container.children[0]\n  var lastNode = element && recycleElement(element)\n  var lastSub = []\n  var updateInProgress = false\n\n  var setState = function(newState) {\n    if (state !== newState) {\n      state = newState\n\n      if (!updateInProgress) {\n        updateInProgress = true\n        defer(render)\n      }\n    }\n  }\n\n  var dispatch = function(obj, data) {\n    if (obj == null) {\n    } else if (typeof obj === \"function\") {\n      dispatch(obj(state, data))\n    } else if (isArray(obj)) {\n      if (typeof obj[0] === \"function\") {\n        dispatch(obj[0](state, obj[1], data))\n      } else {\n        obj[1].effect(obj[1], dispatch, setState(obj[0]))\n      }\n    } else {\n      setState(obj)\n    }\n  }\n\n  var eventProxy = function(event) {\n    dispatch(event.currentTarget.events[event.type], event)\n  }\n\n  var render = function() {\n    updateInProgress = false\n\n    if (subs) {\n      lastSub = refresh(subs(state), lastSub, dispatch)\n    }\n\n    if (view) {\n      element = patch(\n        container,\n        element,\n        lastNode,\n        (lastNode = view(state)),\n        eventProxy\n      )\n    }\n  }\n\n  dispatch(props.init)\n}\n","export const toObject = (data) => {\n  const sliced = data.map(i => ({[i]: \"\"}))\n  const remapped = sliced.reduce((obj, e) => {\n    obj[Object.keys(e)[0]] = {loaded: false}\n    return obj\n  } , {})\n  return remapped\n}\n\nexport const slice = (data, size) => \n  data.slice(0,size)\n","var DEFAULT = 0\nvar RECYCLED_NODE = 1\nvar TEXT_NODE = 2\n\nvar XLINK_NS = \"http://www.w3.org/1999/xlink\"\nvar SVG_NS = \"http://www.w3.org/2000/svg\"\n\nvar EMPTY_OBJECT = {}\nvar EMPTY_ARRAY = []\n\nvar map = EMPTY_ARRAY.map\nvar isArray = Array.isArray\n\nvar merge = function(a, b) {\n  var target = {}\n\n  for (var i in a) target[i] = a[i]\n  for (var i in b) target[i] = b[i]\n\n  return target\n}\n\nvar resolved = typeof Promise === \"function\" && Promise.resolve()\n\nvar defer = !resolved\n  ? setTimeout\n  : function(cb) {\n      return resolved.then(cb)\n    }\n\nvar updateProperty = function(\n  element,\n  name,\n  lastValue,\n  nextValue,\n  eventProxy,\n  isSvg\n) {\n  if (name === \"key\") {\n  } else if (name === \"style\") {\n    for (var i in merge(lastValue, nextValue)) {\n      var style = nextValue == null || nextValue[i] == null ? \"\" : nextValue[i]\n      if (i[0] === \"-\") {\n        element[name].setProperty(i, style)\n      } else {\n        element[name][i] = style\n      }\n    }\n  } else {\n    if (name[0] === \"o\" && name[1] === \"n\") {\n      name = name.slice(2).toLowerCase()\n\n      if (!element.events) element.events = {}\n\n      element.events[name] = nextValue\n\n      if (nextValue == null) {\n        element.removeEventListener(name, eventProxy)\n      } else if (lastValue == null) {\n        element.addEventListener(name, eventProxy)\n      }\n    } else {\n      var nullOrFalse = nextValue == null || nextValue === false\n\n      if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = nextValue == null ? \"\" : nextValue\n        if (nullOrFalse) {\n          element.removeAttribute(name)\n        }\n      } else {\n        var ns = isSvg && name !== (name = name.replace(/^xlink:?/, \"\"))\n        if (ns) {\n          if (nullOrFalse) {\n            element.removeAttributeNS(XLINK_NS, name)\n          } else {\n            element.setAttributeNS(XLINK_NS, name, nextValue)\n          }\n        } else {\n          if (nullOrFalse) {\n            element.removeAttribute(name)\n          } else {\n            element.setAttribute(name, nextValue)\n          }\n        }\n      }\n    }\n  }\n}\n\nvar createElement = function(node, lifecycle, eventProxy, isSvg) {\n  var element =\n    node.type === TEXT_NODE\n      ? document.createTextNode(node.name)\n      : (isSvg = isSvg || node.name === \"svg\")\n        ? document.createElementNS(SVG_NS, node.name)\n        : document.createElement(node.name)\n\n  var props = node.props\n  if (props.onCreate) {\n    lifecycle.push(function() {\n      props.onCreate(element)\n    })\n  }\n\n  for (var i = 0, length = node.children.length; i < length; i++) {\n    element.appendChild(\n      createElement(node.children[i], lifecycle, eventProxy, isSvg)\n    )\n  }\n\n  for (var name in props) {\n    updateProperty(element, name, null, props[name], eventProxy, isSvg)\n  }\n\n  return (node.element = element)\n}\n\nvar updateElement = function(\n  element,\n  lastProps,\n  nextProps,\n  lifecycle,\n  eventProxy,\n  isSvg,\n  isRecycled\n) {\n  for (var name in merge(lastProps, nextProps)) {\n    if (\n      (name === \"value\" || name === \"checked\"\n        ? element[name]\n        : lastProps[name]) !== nextProps[name]\n    ) {\n      updateProperty(\n        element,\n        name,\n        lastProps[name],\n        nextProps[name],\n        eventProxy,\n        isSvg\n      )\n    }\n  }\n\n  var cb = isRecycled ? nextProps.onCreate : nextProps.onUpdate\n  if (cb != null) {\n    lifecycle.push(function() {\n      cb(element, lastProps)\n    })\n  }\n}\n\nvar removeChildren = function(node) {\n  for (var i = 0, length = node.children.length; i < length; i++) {\n    removeChildren(node.children[i])\n  }\n\n  var cb = node.props.onDestroy\n  if (cb != null) {\n    cb(node.element)\n  }\n\n  return node.element\n}\n\nvar removeElement = function(parent, node) {\n  var remove = function() {\n    parent.removeChild(removeChildren(node))\n  }\n\n  var cb = node.props && node.props.onRemove\n  if (cb != null) {\n    cb(node.element, remove)\n  } else {\n    remove()\n  }\n}\n\nvar getKey = function(node) {\n  return node == null ? null : node.key\n}\n\nvar createKeyMap = function(children, start, end) {\n  var out = {}\n  var key\n  var node\n\n  for (; start <= end; start++) {\n    if ((key = (node = children[start]).key) != null) {\n      out[key] = node\n    }\n  }\n\n  return out\n}\n\nvar patchElement = function(\n  parent,\n  element,\n  lastNode,\n  nextNode,\n  lifecycle,\n  eventProxy,\n  isSvg\n) {\n  if (nextNode === lastNode) {\n  } else if (\n    lastNode != null &&\n    lastNode.type === TEXT_NODE &&\n    nextNode.type === TEXT_NODE\n  ) {\n    if (lastNode.name !== nextNode.name) {\n      element.nodeValue = nextNode.name\n    }\n  } else if (lastNode == null || lastNode.name !== nextNode.name) {\n    var newElement = parent.insertBefore(\n      createElement(nextNode, lifecycle, eventProxy, isSvg),\n      element\n    )\n\n    if (lastNode != null) removeElement(parent, lastNode)\n\n    element = newElement\n  } else {\n    updateElement(\n      element,\n      lastNode.props,\n      nextNode.props,\n      lifecycle,\n      eventProxy,\n      (isSvg = isSvg || nextNode.name === \"svg\"),\n      lastNode.type === RECYCLED_NODE\n    )\n\n    var savedNode\n    var childNode\n\n    var lastKey\n    var lastChildren = lastNode.children\n    var lastChStart = 0\n    var lastChEnd = lastChildren.length - 1\n\n    var nextKey\n    var nextChildren = nextNode.children\n    var nextChStart = 0\n    var nextChEnd = nextChildren.length - 1\n\n    while (nextChStart <= nextChEnd && lastChStart <= lastChEnd) {\n      lastKey = getKey(lastChildren[lastChStart])\n      nextKey = getKey(nextChildren[nextChStart])\n\n      if (lastKey == null || lastKey !== nextKey) break\n\n      patchElement(\n        element,\n        lastChildren[lastChStart].element,\n        lastChildren[lastChStart],\n        nextChildren[nextChStart],\n        lifecycle,\n        eventProxy,\n        isSvg\n      )\n\n      lastChStart++\n      nextChStart++\n    }\n\n    while (nextChStart <= nextChEnd && lastChStart <= lastChEnd) {\n      lastKey = getKey(lastChildren[lastChEnd])\n      nextKey = getKey(nextChildren[nextChEnd])\n\n      if (lastKey == null || lastKey !== nextKey) break\n\n      patchElement(\n        element,\n        lastChildren[lastChEnd].element,\n        lastChildren[lastChEnd],\n        nextChildren[nextChEnd],\n        lifecycle,\n        eventProxy,\n        isSvg\n      )\n\n      lastChEnd--\n      nextChEnd--\n    }\n\n    if (lastChStart > lastChEnd) {\n      while (nextChStart <= nextChEnd) {\n        element.insertBefore(\n          createElement(\n            nextChildren[nextChStart++],\n            lifecycle,\n            eventProxy,\n            isSvg\n          ),\n          (childNode = lastChildren[lastChStart]) && childNode.element\n        )\n      }\n    } else if (nextChStart > nextChEnd) {\n      while (lastChStart <= lastChEnd) {\n        removeElement(element, lastChildren[lastChStart++])\n      }\n    } else {\n      var lastKeyed = createKeyMap(lastChildren, lastChStart, lastChEnd)\n      var nextKeyed = {}\n\n      while (nextChStart <= nextChEnd) {\n        lastKey = getKey((childNode = lastChildren[lastChStart]))\n        nextKey = getKey(nextChildren[nextChStart])\n\n        if (\n          nextKeyed[lastKey] ||\n          (nextKey != null && nextKey === getKey(lastChildren[lastChStart + 1]))\n        ) {\n          if (lastKey == null) {\n            removeElement(element, childNode)\n          }\n          lastChStart++\n          continue\n        }\n\n        if (nextKey == null || lastNode.type === RECYCLED_NODE) {\n          if (lastKey == null) {\n            patchElement(\n              element,\n              childNode && childNode.element,\n              childNode,\n              nextChildren[nextChStart],\n              lifecycle,\n              eventProxy,\n              isSvg\n            )\n            nextChStart++\n          }\n          lastChStart++\n        } else {\n          if (lastKey === nextKey) {\n            patchElement(\n              element,\n              childNode.element,\n              childNode,\n              nextChildren[nextChStart],\n              lifecycle,\n              eventProxy,\n              isSvg\n            )\n            nextKeyed[nextKey] = true\n            lastChStart++\n          } else {\n            if ((savedNode = lastKeyed[nextKey]) != null) {\n              patchElement(\n                element,\n                element.insertBefore(\n                  savedNode.element,\n                  childNode && childNode.element\n                ),\n                savedNode,\n                nextChildren[nextChStart],\n                lifecycle,\n                eventProxy,\n                isSvg\n              )\n              nextKeyed[nextKey] = true\n            } else {\n              patchElement(\n                element,\n                childNode && childNode.element,\n                null,\n                nextChildren[nextChStart],\n                lifecycle,\n                eventProxy,\n                isSvg\n              )\n            }\n          }\n          nextChStart++\n        }\n      }\n\n      while (lastChStart <= lastChEnd) {\n        if (getKey((childNode = lastChildren[lastChStart++])) == null) {\n          removeElement(element, childNode)\n        }\n      }\n\n      for (var key in lastKeyed) {\n        if (nextKeyed[key] == null) {\n          removeElement(element, lastKeyed[key])\n        }\n      }\n    }\n  }\n\n  return (nextNode.element = element)\n}\n\nvar createVNode = function(name, props, children, element, key, type) {\n  return {\n    name: name,\n    props: props,\n    children: children,\n    element: element,\n    key: key,\n    type: type\n  }\n}\n\nvar createTextVNode = function(text, element) {\n  return createVNode(text, EMPTY_OBJECT, EMPTY_ARRAY, element, null, TEXT_NODE)\n}\n\nvar recycleChild = function(element) {\n  return element.nodeType === 3 // Node.TEXT_NODE\n    ? createTextVNode(element.nodeValue, element)\n    : recycleElement(element)\n}\n\nvar recycleElement = function(element) {\n  return createVNode(\n    element.nodeName.toLowerCase(),\n    EMPTY_OBJECT,\n    map.call(element.childNodes, recycleChild),\n    element,\n    null,\n    RECYCLED_NODE\n  )\n}\n\nvar patch = function(container, element, lastNode, nextNode, eventProxy) {\n  var lifecycle = []\n\n  element = patchElement(\n    container,\n    element,\n    lastNode,\n    nextNode,\n    lifecycle,\n    eventProxy\n  )\n\n  while (lifecycle.length > 0) lifecycle.pop()()\n\n  return element\n}\n\nexport var h = function(name, props) {\n  var node\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  if ((props = props == null ? {} : props).children != null) {\n    if (rest.length <= 0) {\n      rest.push(props.children)\n    }\n    delete props.children\n  }\n\n  while (rest.length > 0) {\n    if (isArray((node = rest.pop()))) {\n      for (length = node.length; length-- > 0; ) {\n        rest.push(node[length])\n      }\n    } else if (node === false || node === true || node == null) {\n    } else {\n      children.push(typeof node === \"object\" ? node : createTextVNode(node))\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(props, (props.children = children))\n    : createVNode(name, props, children, null, props.key, DEFAULT)\n}\n\nvar cancel = function(sub) {\n  sub.cancel()\n}\n\nvar isSameValue = function(a, b) {\n  if (a !== b) {\n    for (var k in merge(a, b)) {\n      if (a[k] !== b[k]) return false\n    }\n  }\n  return true\n}\n\nvar isSameAction = function(a, b) {\n  return (\n    typeof a === typeof b &&\n    (isArray(a) && a[0] === b[0] && isSameValue(a[1], b[1]))\n  )\n}\n\nvar restart = function(sub, oldSub, dispatch) {\n  for (var k in merge(sub, oldSub)) {\n    if (k === \"cancel\") {\n    } else if (sub[k] === oldSub[k] || isSameAction(sub[k], oldSub[k])) {\n    } else {\n      cancel(oldSub)\n      return start(sub, dispatch)\n    }\n  }\n  return oldSub\n}\n\nvar start = function(sub, dispatch) {\n  return merge(sub, {\n    cancel: sub.effect(sub, dispatch)\n  })\n}\n\nvar refresh = function(sub, oldSub, dispatch) {\n  if (isArray(sub) || isArray(oldSub)) {\n    var out = []\n    var subs = isArray(sub) ? sub : [sub]\n    var oldSubs = isArray(oldSub) ? oldSub : [oldSub]\n\n    for (var i = 0; i < subs.length || i < oldSubs.length; i++) {\n      out.push(refresh(subs[i], oldSubs[i], dispatch))\n    }\n\n    return out\n  }\n\n  return sub\n    ? oldSub\n      ? restart(sub, oldSub, dispatch)\n      : start(sub, dispatch)\n    : oldSub\n      ? cancel(oldSub)\n      : oldSub\n}\n\nexport function app(props) {\n  var state\n  var view = props.view\n  var subs = props.subscriptions\n  var container = props.container\n  var element = container.children[0]\n  var lastNode = element && recycleElement(element)\n  var lastSub = []\n  var updateInProgress = false\n\n  var setState = function(newState) {\n    if (state !== newState) {\n      state = newState\n\n      if (!updateInProgress) {\n        updateInProgress = true\n        defer(render)\n      }\n    }\n  }\n\n  var dispatch = function(obj, data) {\n    if (obj == null) {\n    } else if (typeof obj === \"function\") {\n      dispatch(obj(state, data))\n    } else if (isArray(obj)) {\n      if (typeof obj[0] === \"function\") {\n        dispatch(obj[0](state, obj[1], data))\n      } else {\n        obj[1].effect(obj[1], dispatch, setState(obj[0]))\n      }\n    } else {\n      setState(obj)\n    }\n  }\n\n  var eventProxy = function(event) {\n    dispatch(event.currentTarget.events[event.type], event)\n  }\n\n  var render = function() {\n    updateInProgress = false\n\n    if (subs) {\n      lastSub = refresh(subs(state), lastSub, dispatch)\n    }\n\n    if (view) {\n      element = patch(\n        container,\n        element,\n        lastNode,\n        (lastNode = view(state)),\n        eventProxy\n      )\n    }\n  }\n\n  dispatch(props.init)\n}\n","export function assign(source, assignments) {\n  var result = {},\n    i\n  for (i in source) result[i] = source[i]\n  for (i in assignments) result[i] = assignments[i]\n  return result\n}\n\nexport function makeRemoveListener(attachTo, dispatch, action, eventName) {\n  var handler = dispatch.bind(null, action)\n  attachTo.addEventListener(eventName, handler)\n  return function() {\n    attachTo.removeEventListener(eventName, handler)\n  }\n}\n","import { assign } from \"./utils\"\n\nfunction httpEffect(props, dispatch) {\n  fetch(props.url, props.options)\n    .then(function(response) {\n      if (!response.ok) {\n        throw response\n      }\n      return response\n    })\n    .then(function(response) {\n      return response[props.response]()\n    })\n    .then(function(result) {\n      dispatch(props.action, result)\n    })\n    .catch(function(error) {\n      dispatch(props.error, error)\n    })\n}\n\nexport function Http(props) {\n  return assign(\n    {\n      options: {},\n      response: \"json\",\n      error: props.action,\n      effect: httpEffect\n    },\n    props\n  )\n}\n","/*\n  \n  Squirrel helps you work with data held in deeply nested objects\n  \n  It creates a mapping based on a given `path`. The mapping transforms a unary function `f`\n  into a function that applies f to the given path of a given object.\n  \n  The path is given as a string, with each nesting level separated by a '.' \n  \n  Some examples:\n  \n  ```\n  const increment = x => x + 1\n  const fooMap = squirrel('foo')\n  const incrementFoo = fooMap(increment)\n  incrementFoo({foo: 1, bar:1}) // returns: {foo: 2, bar:1}\n  ```\n  Paths are not limited to one level deep:\n  ```\n  const valueMap = squirrel('foo.bar.value')\n  const incrementValue = valueMap(x => x + 1)\n  incrementValue({foo: {bar: {value: 1}, baz: 1}})\n    // returns: {foo: {bar: {value: 2}, baz: 1}}\n  ```\n  \n  Your path can build on a previously existing mapping:\n  \n  ```\n  const data = {\n    foo: {\n      doors: {\n        'front': 'closed',\n        'back': 'open',\n        'garage': 'closed',\n      }\n    }\n  }\n  const doorMap = squirrel('foo.doors')\n  const setDoorOpen = (doorId, data) => squirrel(doorId, doorMap)(_ => 'open')(data)\n  setDoorOpen('front', data)\n    // returns {foo: {doors: {front: 'open', ...}}}\n  ```\n  Why \"Squirrel\" ?\n  – Squirrels run up (data-)trees with acorns (=new data) to put in specific places\n  ...what *you* call it is up to you of course ;)\n  \n*/\n\nexport default function squirrel (path, map) {\n    const [key, ...rest] = Array.isArray(path) ? path : path.split('.').reverse()\n    if (rest.length) map = squirrel(rest, map)\n    const F = f => x => ({...x, [key]: f(x[key])})\n    return map ? x => map(F(x)) : F\n}\n","/** @jsx h */\nimport { h, app } from './hyperapp/hav2'\n\nexport default (map, callbacks = {}) => {\n  const initial = { data: [] }\n\n  const __bookmark = (state, id, {target}) => map( (s) => {\n    if(s[id.id]) {\n      return ({\n        ...s,\n        [id.id]: undefined\n      })\n    } else {\n      return ({\n        ...s,\n        [id.id]: new Date()\n      })\n    }\n  })\n\n\n  const Bookmark = (state, id, event) => \n    typeof(callbacks.onBookmark)==\"function\"?\n      callbacks.onBookmark((__bookmark(state, id, event)(state)), state.f)\n      : __bookmark(state, id, event)\n\n  const icon = (state, id) => state[id] ? \"fas fa-bookmark\" : \"far fa-bookmark\" \n\n  const view = ({state, id}) => (\n    <div class=\"bookmark\">\n      <i class={icon(state, id)}\n         onClick={[Bookmark, {id: id}]}></i>\n    </div>\n  )\n\n  return { initial, view }\n}","/** @jsx h */\nimport { h, app } from './hyperapp/hav2'\nimport * as http from './hyperapp/Http'\nimport squirrel from './utils/squirrel'\n\nimport Bookmark from './bookmark'\n\nconst icon = (itemType, url) => {\n  switch(itemType) {\n    case \"job\": return \"fas fa-building\"\n    case \"story\": return !url?\"fas fa-question\":\"fas fa-book-open\"\n    case \"comment\": return \"fas fa-comments\"\n    case \"poll\": return \"fas fa-poll\"\n    case \"pollopt\": return \"fas fa-poll\"\n  }\n}\n\nconst bookmark = Bookmark( squirrel('bookmarks') , {} )\n\nconst Bookmarked = (state) => ({\n  ...state\n}) // TODO save to local storage???\n\nexport const view = ({ state, item }) => {\n  if(item[1].fetched) {\n    return (\n      <div class=\"li\">\n        <div>\n          <i class={icon(item[1].type, item[1].url)}></i>\n        </div>\n        <div>\n          <a href={item[1].url} target=\"_blank\">{ item[1].title }</a>\n        </div>\n        <div class=\"by\">{item[1].by}</div>\n        <div class=\"score\">{item[1].score}</div>\n        <bookmark.view \n            state={state.bookmarks} \n            id={item[0]} \n            callbacks={ {onBookmark: Bookmarked} } />\n      </div>\n    )\n  } else { \n    return (\n      <div class=\"li loading\">Loading...</div>\n    )\n  }\n}\n\n//         <div class=\"bookmark\"><i class=\"far fa-bookmark\"></i></div>\n","/** @jsx h */\nimport { h, app } from './hyperapp/hav2'\n\n\nexport const list = ({state, tag, title, text, onSelect}) => (\n    <button \n      title={title}\n      class={state.list == tag ? \"selected\" : \"\"} \n      onClick={ [ onSelect, {list: tag} ] } \n      disabled={state.fetching}>{text}</button>\n)\n\n\nexport const refresh = ({state, onRefresh}) => (\n    <button \n      title=\"refresh\" \n      class=\"refresh\" \n      disabled={state.fetching} \n      onClick={onRefresh}>\n        <i class={state.fetching ? \"fa fa-sync-alt fa-spin\" : \"fa fa-sync-alt\"}></i>\n    </button>\n)","/** @jsx h */\n\nimport { h, app } from './local_modules/hyperapp/src/index'\nimport { BatchFx, Http } from './local_modules/hyperapp/src/index'\n\nimport * as utils from './utils/utils'\nimport * as article from './article'\nimport * as navbutton from './navbuttons'\n\nimport './styles/style.css';\n\n\nconst FetchedStories = (state, data) => FetchArticles({\n  ...state,\n  articles: utils.toObject(utils.slice(data, state.maxNumArticles))\n  // articles: utils.toObject(data)\n})\n\nconst FetchStories = (state) => [{\n    ...state,\n    articles: {},\n    status: 'fetching stories',\n    fetching: true\n  },\n  Http({\n    url: `https://hacker-news.firebaseio.com/v0/${state.list}stories.json`,\n    action: FetchedStories\n  })\n]\n\nconst FetchedArticles = (state, data) => ({\n  ...state,\n  status: \"fetched-all\",\n  fetching: false,\n  articles: {\n    ...state.articles,\n    [data.id]: {\n      fetched: true,\n      by: data.by,\n      score: data.score,\n      title:\n      data.title,\n      type: data.type,\n      url: data.url\n    }\n  }\n})\n\nconst FetchArticles = (state) => [{\n    ...state,\n    status: \"fetching articles\",\n    fetching: true\n  },\n  BatchFx(\n    ...Object.keys(state.articles).map(item =>\n      Http({\n        url: `https://hacker-news.firebaseio.com/v0/item/${item}.json`,\n        action: FetchedArticles,\n      })\n    )\n  )\n]\n\nconst SetList = ( state, {list} ) => {\n console.log(\"Selected list: \", list)\n  return FetchStories({\n  ...state,\n  list: list\n})\n}\n\nconst initialState = {\n  articles: {},\n  status: \"idle\",\n  autoreload: true,\n  list: \"new\",\n  maxNumArticles: 20,\n  fetching: false,\n  bookmarks: {}\n}\n\napp({\n  init: FetchStories(initialState),\n  container: document.querySelector(\"body\"),\n  view: state => (\n    <main>\n      <header>\n        Hacker news Feed in HAv2\n      </header>\n      <nav>\n        <div class=\"lists\">\n          <navbutton.list state={state} title=\"New stories\" tag=\"new\" text=\"New\" onSelect={SetList}/>\n\n          <navbutton.list state={state} title=\"Top trending stories\" tag=\"top\" text=\"Top\" onSelect={SetList}/>\n\n          <navbutton.list state={state} title=\"Best stories\" tag=\"best\" text=\"Best\" onSelect={SetList}/>\n\n          <navbutton.list state={state} title=\"Ask HackerNews\" tag=\"ask\" text=\"AskHN\" onSelect={SetList}/>\n\n          <navbutton.list state={state} title=\"Show HackerNews\" tag=\"show\" text=\"ShowHN\" onSelect={SetList}/>\n\n          <navbutton.list state={state} title=\"Jobs list\" tag=\"job\" text=\"Jobs\" onSelect={SetList}/>\n\n          <navbutton.refresh state={state} onRefresh={FetchStories}/>\n\n        </div>\n      </nav>\n      <div>\n        {Object.entries(state.articles).map(item =>\n          <article.view state={state} item={item} />\n        )}\n      </div>\n    <hr/>\n        <pre>{JSON.stringify(state, null, 2)}</pre>\n    </main>\n  ),\n  //  <hr/>\n  //      <pre>{JSON.stringify(state, null, 2)}</pre>\n  // subscriptions:\n  //   (state) => console.log(\"STATE\", state)\n\n})\n\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}